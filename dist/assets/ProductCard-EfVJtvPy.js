import{o as w,r as T,j as e,L as C,U as k,F}from"./index-OWumJMsc.js";import{F as P}from"./FavoriteButton-H9qCY0DZ.js";const S=({product:t})=>{const{title:r,description:m,image:l,category:u,subcategory:h,brand:f,price:a}=t,s=t.stock>0,j=t.isNew||t.isPromo||!1,{addToCart:g,isInCart:p}=w(),[n,o]=T.useState(null),N=a,b=(a/1.2).toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:2}),c=N.toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:2}),v=()=>{s&&(g({id:t.id,name:t.title,price:a,image:t.image,quantity:1}),y("Produit ajoutÃ© au panier"))},y=i=>{o(i),setTimeout(()=>o(null),2e3)},d=p(t.id);return e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100 h-full flex flex-col relative",children:[n&&e.jsx("div",{className:"absolute top-20 left-1/2 transform -translate-x-1/2 bg-black/80 text-white px-4 py-2 rounded-full text-sm z-50 animate-fade-in-down",children:n}),e.jsxs("div",{className:"relative aspect-[4/3]",children:[e.jsx("img",{src:l.startsWith("http")?l:"/image-produit-defaut.jpeg",alt:r,className:"w-full h-full object-cover",onError:i=>{const x=i.target;x.onerror=null,x.src="/image-produit-defaut.jpeg"}}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("span",{className:"bg-teal-600 text-white text-sm px-3 py-1 rounded-full",children:u})}),j&&e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:"bg-amber-500 text-white text-sm px-3 py-1 rounded-full",children:t.isNew?"Nouveau":"Promotion"})}),!s&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsx("span",{className:"bg-red-500 text-white px-4 py-2 rounded-full font-bold transform -rotate-12",children:"Rupture de stock"})})]}),e.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[e.jsxs("div",{className:"mb-2 flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-semibold text-indigo-600",children:f}),e.jsx("span",{className:"text-xs text-gray-500",children:h})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2 line-clamp-2",children:r}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 flex-grow",children:m}),e.jsxs("div",{className:"mt-auto",children:[e.jsxs("div",{className:"space-y-1 mb-4",children:[e.jsx("div",{className:"text-2xl font-bold text-teal-600",children:c}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Prix HT:"}),e.jsx("div",{className:"text-sm font-semibold",children:b})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Prix TTC:"}),e.jsx("div",{className:"text-sm font-semibold",children:c})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(C,{to:`/nos-produits/${t.id}`,className:"text-teal-600 hover:text-teal-700 font-medium text-sm flex items-center gap-2",children:["En savoir plus",e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(P,{item:t,type:"product",className:"text-gray-400 hover:text-red-500 transition-colors duration-200"}),e.jsx("button",{onClick:v,className:`${s?d?"text-green-500":"text-gray-400 hover:text-teal-600":"opacity-50 cursor-not-allowed text-gray-400"} 
                  transition-colors duration-200`,disabled:!s,"aria-label":"Ajouter au panier",children:d?e.jsx(k,{className:"w-5 h-5"}):e.jsx(F,{className:"w-5 h-5"})})]})]})]})]})]})};export{S as P};
