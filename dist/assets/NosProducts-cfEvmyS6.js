import{r as a,j as e,B as S,P as M,k as R,i as j,l as A}from"./index-BEi8WKuF.js";import{P as q}from"./ProductGrid-BA1KSzdI.js";const z=()=>{const[v,x]=a.useState(!0),[w,i]=a.useState(!1),[N,c]=a.useState([]),[g,d]=a.useState(0),[F,k]=a.useState([0,1e3]),[P,C]=a.useState([]),[s,f]=a.useState(1),[l,u]=a.useState(1),m=12,[n,y]=a.useState({category:"Toutes les catégories",brand:"Toutes les marques",priceRange:[0,1e3],inStockOnly:!1,sortBy:"newest",searchQuery:"",page:1,limit:m});a.useEffect(()=>{(async()=>{try{x(!0),i(!1);const t=await j();if(c(t.products),d(t.total||t.products.length),u(Math.ceil((t.total||t.products.length)/m)),t.products.length>0){const b=t.products.map(h=>h.priceHt||h.priceTtc||0).filter(h=>h>0);b.length>0&&k([Math.min(...b),Math.max(...b)])}const r=await A();C(r),console.log("Données initiales chargées:",{produits:t.products.length,total:t.total,marques:r.length})}catch(t){console.error("Erreur lors du chargement des données:",t),i(!0)}finally{x(!1)}})()},[]),a.useEffect(()=>{(async()=>{x(!0),i(!1);try{console.log("Chargement des produits avec filtres:",{filters:n,currentPage:s});const t=await j({...n,page:s});console.log("Réponse reçue:",t),t&&Array.isArray(t.products)?(c(t.products),d(t.total||t.products.length),u(Math.ceil((t.total||t.products.length)/m)),console.log("Produits mis à jour:",{nombre:t.products.length,total:t.total,page:s,totalPages:Math.ceil((t.total||t.products.length)/m)})):(c([]),d(0),u(1),console.error("Réponse API inattendue:",t),i(!0))}catch(t){console.error("Erreur lors du chargement des produits:",t),c([]),d(0),u(1),i(!0)}finally{x(!1)}})()},[n,s]);const B=o=>{Object.keys(o).some(t=>t!=="page")?(f(1),y({...n,...o,page:1})):y({...n,...o})},p=o=>{f(o),window.scrollTo(0,0)},E=()=>{console.log("Filtres sauvegardés:",n)},L=()=>{f(1),(async()=>{x(!0),i(!1);try{const t=await j({...n,page:1});t&&Array.isArray(t.products)?(c(t.products),d(t.total||t.products.length),u(Math.ceil((t.total||t.products.length)/m))):(c([]),d(0),u(1))}catch(t){console.error("Erreur lors du chargement des produits:",t),c([]),d(0),u(1),i(!0)}finally{x(!1)}})()};return e.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-gray-50 via-white to-blue-50/20",children:[e.jsxs("main",{className:"flex-grow",children:[e.jsxs("section",{className:"relative h-64 md:h-80 lg:h-[420px] w-full overflow-hidden shadow-md",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{src:"/icone/image-arriere-plan-produit.png",alt:"Recrutement Distritherm Services",className:"w-full h-full object-cover object-center"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/10 to-transparent backdrop-blur-sm"})]}),e.jsxs("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-center px-4",children:[e.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-extrabold text-white drop-shadow-lg mb-4 tracking-tight",children:"Nos produits"}),e.jsx("br",{}),e.jsx(S,{})]}),e.jsx("div",{className:"absolute bottom-0 left-1/2 w-full max-w-none -translate-x-1/2",children:e.jsx("svg",{viewBox:"0 0 1600 100",className:"w-full h-6 md:h-8",preserveAspectRatio:"none",children:e.jsx("path",{d:"M0,0 C600,100 1000,100 1600,0 L1600,100 L0,100 Z",fill:"#f8f9ff"})})})]}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("aside",{className:"lg:w-80 flex-shrink-0",children:e.jsx("div",{className:"sticky top-6",children:e.jsx(M,{filters:n,onFilterChange:B,onSaveFilters:E,priceRange:F,availableBrands:P})})}),e.jsxs("main",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 mb-8 backdrop-blur-sm bg-white/80",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#7CB9E8] to-[#007FFF] rounded-xl flex items-center justify-center mr-4 shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14-4H3m16 8H7m14 4H3"})})}),e.jsx("div",{children:v?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-5 w-5 mr-3 rounded-full border-2 border-[#7CB9E8] border-t-transparent animate-spin"}),e.jsx("span",{className:"text-gray-600 font-medium",children:"Chargement des produits..."})]}):w?e.jsxs("div",{className:"flex items-center text-red-500",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("span",{className:"font-medium",children:"Erreur lors du chargement"}),e.jsx("button",{onClick:L,className:"ml-3 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:from-red-600 hover:to-red-700 text-sm font-medium transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:"Réessayer"})]}):e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[e.jsx("span",{className:"bg-gradient-to-r from-[#7CB9E8] to-[#007FFF] bg-clip-text text-transparent",children:g.toLocaleString("fr-FR")}),e.jsxs("span",{className:"text-gray-600 ml-2",children:["produit",g!==1?"s":""," trouvé",g!==1?"s":""]})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Page ",s," sur ",l]})]})})]}),e.jsxs("div",{className:"flex items-center bg-gradient-to-r from-blue-50 to-teal-50 px-4 py-2 rounded-lg border border-blue-100",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-[#007FFF]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Utilisez les filtres pour affiner vos résultats"})]})]})}),e.jsx("div",{className:`transition-all duration-700 ${v?"opacity-50 scale-95 blur-sm":"opacity-100 scale-100 blur-0"}`,children:e.jsx(q,{products:N,title:"",showViewAllButton:!1})}),l>1&&!w&&e.jsx("div",{className:"flex justify-center mt-12",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-4 backdrop-blur-sm bg-white/80",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>p(Math.max(1,s-1)),disabled:s===1,className:`w-10 h-10 rounded-xl flex items-center justify-center font-medium transition-all duration-300 ${s===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-[#7CB9E8] to-[#007FFF] text-white hover:shadow-lg transform hover:-translate-y-0.5"}`,children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),[...Array(l)].map((o,t)=>{const r=t+1;return r===1||r===l||r>=s-1&&r<=s+1?e.jsx("button",{onClick:()=>p(r),className:`w-10 h-10 rounded-xl flex items-center justify-center font-medium transition-all duration-300 ${s===r?"bg-gradient-to-r from-[#7CB9E8] to-[#007FFF] text-white shadow-lg transform -translate-y-0.5":"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:transform hover:-translate-y-0.5"}`,children:r},r):r===s-2&&s>3||r===s+2&&s<l-2?e.jsx("span",{className:"w-10 h-10 flex items-center justify-center text-gray-400",children:"..."},r):null}),e.jsx("button",{onClick:()=>p(Math.min(l,s+1)),disabled:s===l,className:`w-10 h-10 rounded-xl flex items-center justify-center font-medium transition-all duration-300 ${s===l?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-[#7CB9E8] to-[#007FFF] text-white hover:shadow-lg transform hover:-translate-y-0.5"}`,children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})})})]})]})}),e.jsx("section",{className:"bg-gradient-to-br from-white via-blue-50/50 to-teal-50/30 py-20",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:e.jsx("span",{className:"bg-gradient-to-r from-[#7CB9E8] to-[#007FFF] bg-clip-text text-transparent",children:"Pourquoi choisir nos produits ?"})}),e.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-[#7CB9E8] to-[#007FFF] rounded-full mx-auto mb-6"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-5xl mx-auto leading-relaxed",children:"Découvrez les avantages qui font de nos produits le choix idéal pour vos projets professionnels"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg border border-gray-100 p-8 hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 backdrop-blur-sm bg-white/80",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl flex items-center justify-center mb-6 mx-auto group-hover:scale-110 transition-transform duration-300 overflow-hidden",children:e.jsx("img",{src:"/icone/imageprix.png",alt:"Prix Compétitifs",className:"w-full h-full object-contain"})}),e.jsx("h3",{className:"text-2xl font-bold text-center text-gray-800 mb-4 group-hover:text-[#007FFF] transition-colors duration-300",children:"Prix Compétitifs"}),e.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:"Des produits de qualité vous permettant de réaliser des économies substantielles sans compromis sur la performance."})]}),e.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg border border-gray-100 p-8 hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 backdrop-blur-sm bg-white/80",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl flex items-center justify-center mb-6 mx-auto group-hover:scale-110 transition-transform duration-300 overflow-hidden",children:e.jsx("img",{src:"/icone/imagequalite.png",alt:"Qualité Garantie",className:"w-full h-full object-contain"})}),e.jsx("h3",{className:"text-2xl font-bold text-center text-gray-800 mb-4 group-hover:text-[#007FFF] transition-colors duration-300",children:"Qualité Garantie"}),e.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:"Nous ne sacrifions jamais la qualité. Nos produits sont rigoureusement sélectionnés et testés pour répondre aux standards les plus élevés."})]}),e.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg border border-gray-100 p-8 hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 backdrop-blur-sm bg-white/80",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl flex items-center justify-center mb-6 mx-auto group-hover:scale-110 transition-transform duration-300 overflow-hidden",children:e.jsx("img",{src:"/icone/imageservice.png",alt:"Service Express",className:"w-full h-full object-contain"})}),e.jsx("h3",{className:"text-2xl font-bold text-center text-gray-800 mb-4 group-hover:text-[#007FFF] transition-colors duration-300",children:"Service Express"}),e.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:"Service après-vente d'excellence. Nous vous accompagnons dans vos projets avec des produits de qualité."})]})]})]})})]}),e.jsx(R,{})]})};export{z as default};
