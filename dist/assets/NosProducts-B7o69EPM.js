import{r as a,j as e,B as L,P as S,n as A,k as f,o as z}from"./index-qygQK-mN.js";import{P as D}from"./ProductGrid-DU17ZSST.js";const W=()=>{const[b,u]=a.useState(!0),[j,h]=a.useState(!1),[y,n]=a.useState([]),[x,l]=a.useState(0),[F,N]=a.useState([0,1e3]),[w,k]=a.useState([]),[s,g]=a.useState(1),[d,i]=a.useState(1),m=12,[c,v]=a.useState({category:"Toutes les catégories",brand:"Toutes les marques",priceRange:[0,1e3],inStockOnly:!1,sortBy:"newest",searchQuery:"",page:1,limit:m});a.useEffect(()=>{(async()=>{try{u(!0);const t=await f();n(t.products),l(t.total||t.products.length),i(Math.ceil((t.total||t.products.length)/m));const r=t.products.map(M=>M.priceHt);N([Math.min(...r),Math.max(...r)]);const E=await z();k(E)}catch(t){console.error("Erreur lors du chargement des données:",t),h(!0),u(!1)}})()},[]),a.useEffect(()=>{(async()=>{u(!0),h(!1);try{const t=await f({...c,page:s});t&&Array.isArray(t.products)?(n(t.products),l(t.total||t.products.length),i(Math.ceil((t.total||t.products.length)/m))):(n([]),l(0),i(1),console.error("Réponse API inattendue:",t))}catch(t){console.error("Erreur lors du chargement des produits:",t),n([]),l(0),i(1),h(!0)}finally{u(!1)}})()},[c,s]);const C=o=>{Object.keys(o).some(t=>t!=="page")?(g(1),v({...c,...o,page:1})):v({...c,...o})},p=o=>{g(o),window.scrollTo(0,0)},B=()=>{console.log("Filtres sauvegardés:",c)},P=()=>{g(1),(async()=>{u(!0),h(!1);try{const t=await f({...c,page:1});t&&Array.isArray(t.products)?(n(t.products),l(t.total||t.products.length),i(Math.ceil((t.total||t.products.length)/m))):(n([]),l(0),i(1))}catch(t){console.error("Erreur lors du chargement des produits:",t),n([]),l(0),i(1),h(!0)}finally{u(!1)}})()};return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(L,{}),e.jsx("main",{className:"flex-grow",children:e.jsxs("div",{className:"bg-gradient-to-b to-white min-h-screen",children:[e.jsx("br",{}),e.jsxs("div",{className:"text-center mb-7",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 relative inline-block",children:[e.jsx("span",{className:"bg-gradient-to-r from-[#7CB9E8] to-[#007FFF] bg-clip-text text-transparent",children:"Nos Produits"}),e.jsx("div",{className:"absolute -bottom-4 left-1/2 transform -translate-x-1/2 w-32 h-1 bg-gradient-to-r from-[#7CB9E8] to-[#007FFF] rounded-full"})]}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto mt-8",children:"Découvrez nos produits et services"})]}),e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsx("div",{className:"mb-8",children:e.jsx(S,{filters:c,onFilterChange:C,onSaveFilters:B,priceRange:F,availableBrands:w})}),e.jsxs("div",{className:"mb-8 flex justify-between items-center bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-[#7CB9E8] mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),b?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-5 w-5 mr-2 rounded-full border-2 border-[#7CB9E8] border-t-transparent animate-spin"}),e.jsx("span",{className:"text-gray-600",children:"Chargement des produits..."})]}):j?e.jsxs("div",{className:"flex items-center text-red-500",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Erreur lors du chargement des produits",e.jsx("button",{onClick:P,className:"ml-3 px-3 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm",children:"Réessayer"})]}):e.jsxs("p",{className:"text-gray-700",children:[e.jsx("span",{className:"font-semibold text-[#7CB9E8]",children:x})," produit",x!==1?"s":""," trouvé",x!==1?"s":""]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("svg",{className:"w-4 h-4 mr-1 text-[#007FFF]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Utilisez les filtres pour affiner vos résultats"]})]}),e.jsx("div",{className:`transition-all duration-500 ${b?"opacity-50 blur-sm":"opacity-100 blur-0"}`,children:e.jsx(D,{products:y,title:"Nos Produits",showViewAllButton:!1})}),d>1&&!j&&e.jsx("div",{className:"flex justify-center mt-8",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>p(Math.max(1,s-1)),disabled:s===1,className:`px-3 py-1 rounded-md ${s===1?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-[#007FFF] text-white hover:bg-[#007FFF]/90"}`,children:"«"}),[...Array(d)].map((o,t)=>{const r=t+1;return r===1||r===d||r>=s-1&&r<=s+1?e.jsx("button",{onClick:()=>p(r),className:`px-3 py-1 rounded-md ${s===r?"bg-[#007FFF] text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:r},r):r===s-2&&s>3||r===s+2&&s<d-2?e.jsx("span",{children:"..."},r):null}),e.jsx("button",{onClick:()=>p(Math.min(d,s+1)),disabled:s===d,className:`px-3 py-1 rounded-md ${s===d?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-[#007FFF] text-white hover:bg-[#007FFF]/90"}`,children:"»"})]})}),e.jsxs("div",{className:"mt-20 bg-white rounded-xl shadow-md p-8 border border-gray-100",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-10 text-center relative inline-block",children:[e.jsx("span",{className:"bg-gradient-to-r from-[#7CB9E8] to-[#007FFF] bg-clip-text text-transparent",children:"Avantages de nos produits"}),e.jsx("div",{className:"absolute -bottom-3 left-1/2 transform -translate-x-1/2 w-16 h-1 bg-gradient-to-r from-[#7CB9E8] to-[#007FFF] rounded-full"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#7CB9E8]/20 to-[#007FFF]/20 rounded-full flex items-center justify-center mb-4 mx-auto",children:e.jsx("svg",{className:"w-8 h-8 text-[#007FFF]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-center text-gray-800 mb-3",children:"Produits de qualité"}),e.jsx("p",{className:"text-gray-600 text-center",children:"Des produits de qualité vous permettant de réaliser des économies substantielles."})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#7CB9E8]/20 to-[#007FFF]/20 rounded-full flex items-center justify-center mb-4 mx-auto",children:e.jsx("svg",{className:"w-8 h-8 text-[#7CB9E8]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-center text-gray-800 mb-3",children:"Qualité garantie"}),e.jsx("p",{className:"text-gray-600 text-center",children:"Nous ne sacrifions jamais la qualité. Nos produits sont de qualité supérieure."})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#7CB9E8]/20 to-[#007FFF]/20 rounded-full flex items-center justify-center mb-4 mx-auto",children:e.jsx("svg",{className:"w-8 h-8 text-[#007FFF]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-center text-gray-800 mb-3",children:"Service rapide"}),e.jsx("p",{className:"text-gray-600 text-center",children:"Livraison rapide et service après-vente de qualité pour tous nos produits. Nous vous livrons vos produits dans les meilleures conditions et dans les détails les plus courts, en général dans les 48 heures ou en 72 heures dans tout la France."})]})]}),e.jsx("div",{className:"mt-10 text-center",children:e.jsx("button",{className:"bg-gradient-to-r from-[#7CB9E8] to-[#007FFF] hover:from-[#7CB9E8]/90 hover:to-[#007FFF]/90 text-white px-6 py-3 rounded-lg font-medium transition-all duration-300 shadow hover:shadow-lg transform hover:-translate-y-0.5",children:"Demander un devis personnalisé"})})]})]})]})}),e.jsx(A,{})]})};export{W as default};
