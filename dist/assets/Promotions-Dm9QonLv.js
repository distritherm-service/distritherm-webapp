import{q as L,j as e,s as C,t as E,r as n,v as F,L as k,l as O,w as M,x as I,B as U,n as B}from"./index-qygQK-mN.js";const w=[{id:"promo1",title:"POMPE À CHALEUR",description:"Profitez de -20% sur cette pompe à chaleur haute performance avec installation",image:"/image-produit-defaut.jpeg",category:"POMPE À CHALEUR",subcategory:"Split",brand:"ATLANTIC",originalPrice:3999.99,discountPrice:3199.99,discountPercentage:20,validUntil:"2023-06-30",code:"PAC20",inStock:!1,featured:!0},{id:"promo2",title:"PACK CLIMATISATION",description:"Préparez votre été avec notre offre spéciale climatisation - garantie 5 ans incluse !",image:"/image-produit-defaut.jpeg",category:"CLIMATISATION",subcategory:"Split mural",brand:"THERMOR",originalPrice:1899.99,discountPrice:1399.99,discountPercentage:26,validUntil:"2023-06-15",code:"CLIM26",inStock:!0,featured:!0},{id:"promo3",title:"CHAUFFE-EAU THERMODYNAMIQUE",description:"Économisez sur votre facture d'eau chaude avec ce chauffe-eau nouvelle génération à prix réduit.",image:"/image-produit-defaut.jpeg",category:"EAU CHAUDE SANITAIRE",subcategory:"Thermodynamique",brand:"THERMOR",originalPrice:2499.99,discountPrice:1999.99,discountPercentage:20,validUntil:"2023-05-31",code:"THERMO20",inStock:!0},{id:"promo4",title:"OFFRE PHOTOVOLTAÏQUE",description:"Kit complet photovoltaïque avec installation à prix promotionnel pour une autonomie énergétique.",image:"/image-produit-defaut.jpeg",category:"ONDULEUR",subcategory:"Monophasé",brand:"SOLAREDGE",originalPrice:3499.99,discountPrice:2799.99,discountPercentage:20,validUntil:"2023-07-15",code:"SOLAR20",inStock:!0},{id:"promo5",title:"PACK VENTILATION DOUBLE FLUX",description:"Améliorez la qualité de l'air de votre maison avec notre système de ventilation haut de gamme.",image:"/image-produit-defaut.jpeg",category:"VENTILATION",subcategory:"Double flux",brand:"ATLANTIC",originalPrice:1899.99,discountPrice:1329.99,discountPercentage:30,validUntil:"2023-05-15",code:"VENT30",inStock:!0,featured:!0},{id:"promo6",title:"RADIATEUR CONNECTÉ NOUVELLE GÉNÉRATION",description:"Contrôlez votre chauffage à distance et réalisez jusqu'à 30% d'économies d'énergie.",image:"/image-produit-defaut.jpeg",category:"CHAUFFAGE",subcategory:"Radiateur",brand:"ATLANTIC",originalPrice:1799.99,discountPrice:1259.99,discountPercentage:30,validUntil:"2023-06-15",code:"RAD30",inStock:!1},{id:"promo7",title:"CHAUDIÈRE À CONDENSATION - PRIME ÉNERGIE INCLUSE",description:"Profitez de notre offre exceptionnelle sur cette chaudière à très haut rendement avec prime énergie déduite.",image:"/image-produit-defaut.jpeg",category:"CHAUFFAGE",subcategory:"Chaudière",brand:"ATLANTIC",originalPrice:2199.99,discountPrice:1539.99,discountPercentage:30,validUntil:"2023-05-31",code:"CHAUD30",inStock:!0},{id:"promo8",title:"OPTIMISEURS DE PUISSANCE SOLAIRE - LOT DE 5",description:"Optimisez votre installation photovoltaïque avec ce lot d'optimiseurs à prix cassé.",image:"/image-produit-defaut.jpeg",category:"ONDULEUR",subcategory:"Accessoires",brand:"SOLAREDGE",originalPrice:499.99,discountPrice:349.99,discountPercentage:30,validUntil:"2023-06-30",code:"OPTI30",inStock:!0},{id:"promo9",title:"VMC SIMPLE FLUX - PRIX SPÉCIAL RÉNOVATION",description:"Solution économique pour la ventilation de votre logement avec pose simplifiée.",image:"/image-produit-defaut.jpeg",category:"VENTILATION",subcategory:"Simple flux",brand:"ATLANTIC",originalPrice:599.99,discountPrice:449.99,discountPercentage:25,validUntil:"2023-07-31",code:"VMC25",inStock:!0},{id:"promo10",title:"PACK DOMOTIQUE CHAUFFAGE - CONTRÔLEZ VOTRE CONFORT",description:"Gestion intelligente de votre chauffage avec thermostat et vannes connectées compatibles avec tous assistants vocaux.",image:"/image-produit-defaut.jpeg",category:"CHAUFFAGE",subcategory:"Domotique",brand:"ATLANTIC",originalPrice:899.99,discountPrice:719.99,discountPercentage:20,validUntil:"2023-06-15",code:"DOMO20",inStock:!0,featured:!0}],D=()=>{const t=w.reduce((s,o)=>s+o.discountPercentage,0);return Math.round(t/w.length)},q=t=>{const s=new Date,i=new Date(t).getTime()-s.getTime(),l=Math.ceil(i/(1e3*60*60*24));return l>0?l:0},z=({item:t,className:s=""})=>{const{addToFavorites:o,removeFromFavorites:i,isFavorite:l}=L(),m=d=>{d.preventDefault(),d.stopPropagation(),l(t.id)?i(t.id):o(t)};return e.jsx("button",{onClick:m,className:`p-2 rounded-full transition-colors duration-200 ${l(t.id)?"text-red-500 hover:bg-red-50":"text-gray-400 hover:bg-gray-50"} ${s}`,"aria-label":l(t.id)?"Retirer des favoris":"Ajouter aux favoris",children:l(t.id)?e.jsx(C,{className:"w-6 h-6"}):e.jsx(E,{className:"w-6 h-6"})})},H=({promotion:t})=>{const[s,o]=n.useState(null),{addToCart:i,isInCart:l}=F(),{addToFavorites:m,removeFromFavorites:d,isFavorite:g}=L(),x=()=>{t.inStock&&(i({id:t.id,name:t.title,price:t.discountPrice,image:t.image,quantity:1}),h("Promotion ajoutée au panier"))},b=()=>{if(g(t.id))d(t.id),h("Retiré des favoris");else{const a={id:t.id,name:t.title,price:t.discountPrice,image:t.image,description:t.description,category:t.category,brand:t.brand};m(a),h("Ajouté aux favoris")}},h=a=>{o(a),setTimeout(()=>o(null),2e3)},v=l(t.id),p=q(t.validUntil);return e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100 h-full flex flex-col group relative",children:[s&&e.jsx("div",{className:"absolute top-20 left-1/2 transform -translate-x-1/2 bg-black/80 text-white px-4 py-2 rounded-full text-sm z-50 animate-fade-in-down",children:s}),e.jsxs("div",{className:"absolute top-0 right-0 bg-gradient-to-r from-red-500 to-pink-500 text-white font-bold py-1.5 px-3 rounded-bl-xl z-10 transform translate-y-0 group-hover:-translate-y-0.5 transition-transform",children:["-",t.discountPercentage,"%"]}),e.jsxs("div",{className:"relative aspect-[4/3]",children:[e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",onError:a=>{const u=a.target;u.onerror=null,u.src="https://via.placeholder.com/400x300?text=Distritherm"}}),t.featured&&e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:"bg-gradient-to-r from-amber-400 to-amber-600 text-white text-sm px-3 py-1 rounded-full shadow-md",children:"Offre vedette"})}),!t.inStock&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsx("span",{className:"bg-red-500 text-white px-4 py-2 rounded-full font-bold transform -rotate-12 shadow-lg",children:"Rupture de stock"})}),e.jsx(z,{item:{id:t.id,name:t.title,price:t.discountPrice,image:t.image,description:t.description,category:t.category,brand:t.brand},type:"promotion",className:"absolute top-2 right-2 p-2 bg-white rounded-full shadow-md hover:bg-red-50"}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/70 to-transparent pt-10 pb-4 px-4",children:e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("span",{className:"inline-block bg-white/20 backdrop-blur-sm text-white text-xs px-2 py-0.5 rounded mb-1",children:t.category}),e.jsx("h3",{className:"text-lg font-bold text-white line-clamp-1",children:t.title})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"line-through text-gray-300 text-sm",children:t.originalPrice.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})}),e.jsx("div",{className:"text-white font-bold text-xl",children:t.discountPrice.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})})]})]})})]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsxs("div",{className:"mb-2 flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-semibold text-indigo-600",children:t.brand}),e.jsx("span",{className:"text-xs text-gray-500",children:t.subcategory})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 flex-grow",children:t.description}),e.jsxs("div",{className:"mt-auto space-y-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Prix original"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"line-through text-gray-500 text-sm",children:t.originalPrice.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})}),e.jsx("span",{className:"text-xs text-gray-400",children:"(TTC)"})]}),e.jsxs("span",{className:"text-xs text-gray-400",children:["HT: ",(t.originalPrice/1.2).toLocaleString("fr-FR",{style:"currency",currency:"EUR"})]})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Prix promo"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"font-bold text-teal-600",children:t.discountPrice.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})}),e.jsx("span",{className:"text-xs text-gray-400",children:"(TTC)"})]}),e.jsxs("span",{className:"text-xs text-gray-400",children:["HT: ",(t.discountPrice/1.2).toLocaleString("fr-FR",{style:"currency",currency:"EUR"})]})]})]})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Code promo:"}),e.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded text-sm",children:t.code})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Économie:"}),e.jsx("div",{className:"font-bold text-red-500",children:(t.originalPrice-t.discountPrice).toLocaleString("fr-FR",{style:"currency",currency:"EUR"})})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:x,disabled:!t.inStock||v,className:`flex-1 py-2 px-4 rounded-lg font-medium text-sm transition-all ${!t.inStock||v?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:v?"Dans le panier":"Ajouter au panier"}),e.jsx("button",{onClick:b,className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors",children:e.jsx(C,{className:`w-5 h-5 ${g(t.id)?"text-red-500":"text-gray-400"}`})})]}),p>0&&e.jsxs("div",{className:"text-center text-sm text-gray-500",children:[p," jour",p>1?"s":""," restant",p>1?"s":""]})]})]})]})},W=({promotions:t,title:s,showViewAllButton:o=!0})=>(D(),e.jsxs("div",{children:[s&&e.jsx("div",{className:"flex flex-col items-start mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("h2",{className:"text-3xl font-bold text-left",children:e.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-cyan-500 bg-clip-text text-transparent",children:s})}),e.jsx("div",{className:"absolute -bottom-3 left-0 w-32 h-1 bg-gradient-to-r from-blue-600 to-cyan-500 rounded-full"})]})}),t.length===0?e.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-sm border border-gray-100 max-w-xl mx-auto",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Aucune promotion trouvée"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Actuellement, aucune promotion ne correspond n'est disponible."}),e.jsx(k,{to:"/nos-produits",className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white px-6 py-2 rounded-lg font-medium text-sm transition-all shadow-md hover:shadow-lg inline-block",children:"Voir Nos produits"})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mt-6",children:t.map(i=>e.jsx(H,{promotion:i},i.id))}),o&&t.length>0&&e.jsx("div",{className:"text-center mt-12",children:e.jsx(k,{to:"/promotions",className:"inline-block bg-gradient-to-r from-blue-600 to-cyan-500 text-white px-8 py-3 rounded-lg font-medium hover:from-blue-700 hover:to-cyan-600 transition-colors shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all",children:"Voir toutes nos promotions"})})]})),V=({filters:t,onFilterChange:s,onSaveFilters:o})=>{const[i,l]=n.useState(!1),[m,d]=n.useState([]),[g,x]=n.useState(["Toutes les marques"]),[b,h]=n.useState(!0),[v,p]=n.useState(null),[a]=n.useState({min:0,max:1e4}),[u,j]=n.useState(t.priceRange),[y,N]=n.useState(t.searchQuery||"");n.useEffect(()=>{(async()=>{try{h(!0);const f=await O.getAllCategories();d(f),p(null)}catch{p("Erreur lors du chargement des catégories")}finally{h(!1)}})()},[]),n.useEffect(()=>{(async()=>{const f=await M();x(["Toutes les marques",...f])})()},[]),n.useEffect(()=>{j(t.priceRange)},[t.priceRange]),n.useEffect(()=>{N(t.searchQuery||"")},[t.searchQuery]);const c=(r,f)=>{s({[r]:f})},P=r=>{N(r.target.value)},T=r=>{r.preventDefault(),s({searchQuery:y})},R=()=>{s({priceRange:u,priceRangeTouched:!0})},S=()=>{o&&o();const r=document.createElement("div");r.classList.add("fixed","bottom-4","right-4","bg-purple-600","text-white","p-4","rounded-lg","shadow-lg","z-50","animate-fade-in"),r.textContent="Filtres sauvegardés avec succès",document.body.appendChild(r),setTimeout(()=>{r.classList.add("animate-fade-out"),setTimeout(()=>r.remove(),500)},3e3)},A=[{value:"featured",label:"Offres vedettes"},{value:"discount_high",label:"Réduction : plus élevée d'abord"},{value:"discount_low",label:"Réduction : plus faible d'abord"},{value:"price_asc",label:"Prix croissant"},{value:"price_desc",label:"Prix décroissant"},{value:"ending_soon",label:"Se termine bientôt"}];return b?e.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-4",children:e.jsx("div",{className:"animate-pulse flex space-x-4",children:e.jsxs("div",{className:"flex-1 space-y-4 py-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})]})})}):v?e.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-4",children:e.jsx("div",{className:"text-red-500 text-center",children:v})}):e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[e.jsxs("button",{className:"md:hidden w-full p-4 flex items-center justify-between text-gray-800 font-medium bg-gradient-to-r from-purple-50 to-pink-50 border-b border-gray-100 sticky top-0 z-30",onClick:()=>l(!i),style:{minHeight:56},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filtres et Tri"]}),e.jsx("svg",{className:`w-5 h-5 transition-transform ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),e.jsxs("div",{className:`${i?"block":"hidden"} md:block p-4 md:p-6`,children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-5 md:gap-6",children:[e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 group-hover:text-purple-600 transition-colors",children:"Catégorie"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full border border-gray-200 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 appearance-none bg-white pr-8 hover:border-purple-300 transition-colors",value:t.category,onChange:r=>c("category",r.target.value),children:[e.jsx("option",{value:"Toutes les catégories",children:"Toutes les catégories"}),m.filter(r=>r.level===1).map(r=>e.jsx("option",{value:r.name,children:r.name},r.id))]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 group-hover:text-purple-600 transition-colors",children:"Recherche"}),e.jsxs("form",{onSubmit:T,className:"relative",children:[e.jsx("input",{type:"text",value:y,onChange:P,placeholder:"Rechercher une promotion...",className:"w-full border border-gray-200 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 hover:border-purple-300 transition-colors pr-10"}),e.jsx("button",{type:"submit",className:"absolute right-0 top-0 h-full px-3 text-gray-500 hover:text-purple-600 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 group-hover:text-purple-600 transition-colors",children:"Marque"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{className:"w-full border border-gray-200 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 appearance-none bg-white pr-8 hover:border-purple-300 transition-colors",value:t.brand,onChange:r=>c("brand",r.target.value),children:g.map(r=>e.jsx("option",{value:r,children:r},r))}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 group-hover:text-purple-600 transition-colors",children:"Prix après réduction (€)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",min:a.min,max:a.max,value:u[0],onChange:r=>j([parseInt(r.target.value)||a.min,u[1]]),className:"flex-1 border border-gray-200 rounded-lg p-2 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 hover:border-purple-300 transition-colors",placeholder:"Min"}),e.jsx("span",{className:"text-gray-500",children:"à"}),e.jsx("input",{type:"number",min:a.min,max:a.max,value:u[1],onChange:r=>j([u[0],parseInt(r.target.value)||a.max]),className:"flex-1 border border-gray-200 rounded-lg p-2 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 hover:border-purple-300 transition-colors",placeholder:"Max"})]}),e.jsx("button",{onClick:R,className:"w-full bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white py-1.5 px-3 rounded-lg text-sm transition-colors shadow-sm hover:shadow",children:"Appliquer"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 group-hover:text-purple-600 transition-colors",children:"Trier par"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{className:"w-full border border-gray-200 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 appearance-none bg-white pr-8 hover:border-purple-300 transition-colors",value:t.sortBy,onChange:r=>c("sortBy",r.target.value),children:A.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{className:"flex items-center pb-1",children:[e.jsx("input",{type:"checkbox",id:"inStockOnly",checked:t.inStockOnly,onChange:r=>c("inStockOnly",r.target.checked),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"inStockOnly",className:"ml-2 block text-sm text-gray-700 hover:text-purple-600 cursor-pointer transition-colors",children:"Offres disponibles uniquement"})]}),e.jsxs("button",{onClick:S,className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white py-2 px-3 rounded-lg text-sm font-medium transition-all shadow-sm hover:shadow flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),"Sauvegarder ce filtre"]})]})]}),e.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-2",children:[t.category!=="Toutes les catégories"&&e.jsxs("span",{className:"inline-flex items-center bg-gradient-to-r from-purple-50 to-pink-50 text-purple-700 text-sm px-3 py-1.5 rounded-full border border-purple-100 shadow-sm",children:[e.jsx("svg",{className:"w-3.5 h-3.5 mr-1 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 7l3-3 3 3M7 7h10v10l-3 3-3-3H7V7z"})}),t.category,e.jsx("button",{onClick:()=>c("category","Toutes les catégories"),className:"ml-1.5 text-gray-500 hover:text-red-500 transition-colors","aria-label":"Supprimer le filtre de catégorie",children:e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),t.searchQuery&&e.jsxs("span",{className:"inline-flex items-center bg-gradient-to-r from-purple-50 to-pink-50 text-purple-700 text-sm px-3 py-1.5 rounded-full border border-purple-100 shadow-sm",children:[e.jsx("svg",{className:"w-3.5 h-3.5 mr-1 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),t.searchQuery,e.jsx("button",{onClick:()=>c("searchQuery",""),className:"ml-1.5 text-gray-500 hover:text-red-500 transition-colors","aria-label":"Supprimer la recherche",children:e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),t.brand!=="Toutes les marques"&&e.jsxs("span",{className:"inline-flex items-center bg-gradient-to-r from-purple-50 to-pink-50 text-purple-700 text-sm px-3 py-1.5 rounded-full border border-purple-100 shadow-sm",children:[e.jsx("svg",{className:"w-3.5 h-3.5 mr-1 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),t.brand,e.jsx("button",{onClick:()=>c("brand","Toutes les marques"),className:"ml-1.5 text-gray-500 hover:text-red-500 transition-colors","aria-label":"Supprimer le filtre de marque",children:e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(t.priceRange[0]>a.min||t.priceRange[1]<a.max)&&t.priceRangeTouched&&e.jsxs("span",{className:"inline-flex items-center bg-gradient-to-r from-purple-50 to-pink-50 text-purple-700 text-sm px-3 py-1.5 rounded-full border border-purple-100 shadow-sm",children:[e.jsx("svg",{className:"w-3.5 h-3.5 mr-1 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.priceRange[0].toLocaleString("fr-FR"),"€ - ",t.priceRange[1].toLocaleString("fr-FR"),"€",e.jsx("button",{onClick:()=>{c("priceRange",[a.min,a.max]),c("priceRangeTouched",!1)},className:"ml-1.5 text-gray-500 hover:text-red-500 transition-colors","aria-label":"Supprimer le filtre de prix",children:e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),t.inStockOnly&&e.jsxs("span",{className:"inline-flex items-center bg-gradient-to-r from-purple-50 to-pink-50 text-purple-700 text-sm px-3 py-1.5 rounded-full border border-purple-100 shadow-sm",children:[e.jsx("svg",{className:"w-3.5 h-3.5 mr-1 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Offres disponibles uniquement",e.jsx("button",{onClick:()=>c("inStockOnly",!1),className:"ml-1.5 text-gray-500 hover:text-red-500 transition-colors","aria-label":"Supprimer le filtre en stock uniquement",children:e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(t.category!=="Toutes les catégories"||t.brand!=="Toutes les marques"||t.searchQuery||(t.priceRange[0]>a.min||t.priceRange[1]<a.max)&&t.priceRangeTouched||t.inStockOnly)&&e.jsxs("button",{onClick:()=>s({category:"Toutes les catégories",brand:"Toutes les marques",priceRange:[a.min,a.max],inStockOnly:!1,priceRangeTouched:!1,searchQuery:""}),className:"ml-auto text-white bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 px-4 py-1.5 rounded-lg text-sm font-medium shadow-sm hover:shadow transition-all flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Réinitialiser"]})]})]})]})},Q=t=>({id:t.id.toString(),title:t.name,description:t.description,image:t.imagesUrl[0]||"/image-produit-defaut.jpeg",category:"",subcategory:"",brand:"",originalPrice:t.priceTtc,discountPrice:t.promotionPrice,discountPercentage:t.promotionPercentage,validUntil:t.promotionEndDate,code:"",inStock:t.quantity>0,featured:!1}),G=async(t=1,s=10)=>(await I.get("/products/promotions",{params:{page:t,limit:s}})).data.data.map(Q),_=()=>{const[t,s]=n.useState(!0),[o,i]=n.useState([]),[l,m]=n.useState({category:"Toutes les catégories",subcategory:"Toutes les sous-catégories",brand:"Toutes les marques",priceRange:[0,1e4],sortBy:"featured",inStockOnly:!1,discountLevel:"all",priceRangeTouched:!1});n.useEffect(()=>{s(!0),G(1,20).then(x=>{i(x),s(!1)}).catch(()=>s(!1))},[]);const d=x=>{m(b=>({...b,...x}))},g=()=>{console.log("Filtres sauvegardés:",l)};return e.jsxs("div",{className:"min-h-screen",children:[e.jsx(U,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-4 relative inline-block",children:[e.jsx("span",{className:"bg-gradient-to-r from-[#7CB9E8] to-[#007FFF] bg-clip-text text-transparent",children:"Nos Promotions"}),e.jsx("div",{className:"absolute -bottom-4 left-1/2 transform -translate-x-1/2 w-32 h-1 bg-gradient-to-r from-[#7CB9E8] to-[#007FFF] rounded-full"})]}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto mt-8",children:"Découvrez nos offres spéciales et réductions exclusives"})]}),e.jsx("div",{className:"mb-8",children:e.jsx(V,{filters:l,onFilterChange:d,onSaveFilters:g})}),e.jsxs("div",{className:"mb-8 flex justify-between items-center bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-[#007FFF] mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),t?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-5 w-5 mr-2 rounded-full border-2 border-[#007FFF] border-t-transparent animate-spin"}),e.jsx("span",{className:"text-gray-600",children:"Chargement des promotions..."})]}):e.jsxs("p",{className:"text-gray-700",children:[e.jsx("span",{className:"font-semibold text-[#007FFF]",children:o.length})," promotion",o.length!==1?"s":""," trouvée",o.length!==1?"s":""]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("svg",{className:"w-4 h-4 mr-1 text-[#007FFF]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Utilisez les filtres pour affiner vos résultats"]})]}),e.jsx("div",{className:`transition-all duration-500 ${t?"opacity-50 blur-sm":"opacity-100 blur-0"}`,children:e.jsx(W,{promotions:t?[]:o,title:"Offres Spéciales & Réductions",showViewAllButton:!1})})]}),e.jsx(B,{})]})};export{_ as default};
