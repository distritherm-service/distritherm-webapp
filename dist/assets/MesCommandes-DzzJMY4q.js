import{ab as v,u as A,r as s,j as e,an as l,ao as C,ap as w,aq as P,ar as D,Q as I,as as R,at as S}from"./index-qygQK-mN.js";import{L as q}from"./Layout-C31tzxm1.js";const L=()=>{const{isAuthenticated:o}=v(),r=A(),[a,m]=s.useState([]),[n,p]=s.useState(!0),[c,M]=s.useState(""),[g,x]=s.useState(null),[u,h]=s.useState(""),[i,b]=s.useState("all");s.useEffect(()=>{o||r("/connexion")},[o,r]),s.useEffect(()=>{setTimeout(()=>{m([{id:"1",orderNumber:"CMD-2023-001",date:"2023-03-15T10:30:00Z",status:"delivered",totalAmount:1250.99,items:[{id:"item1",productId:"prod1",productName:"Pompe à chaleur AIRWELL",quantity:1,unitPrice:999.99,imageUrl:"/climatisation.jpeg"},{id:"item2",productId:"prod2",productName:"Kit installation standard",quantity:1,unitPrice:250,imageUrl:"/chauffage.jpeg"}],shippingAddress:{fullName:"Jean Dupont",streetAddress:"15 Rue de la Paix",city:"Paris",postalCode:"75001",country:"France"},billingAddress:{fullName:"Jean Dupont",streetAddress:"15 Rue de la Paix",city:"Paris",postalCode:"75001",country:"France"}},{id:"2",orderNumber:"CMD-2023-042",date:"2023-04-20T14:15:00Z",status:"processing",totalAmount:549.5,items:[{id:"item3",productId:"prod3",productName:"Radiateur connecté ACOVA",quantity:2,unitPrice:249.75,imageUrl:"/chauffage.jpeg"},{id:"item4",productId:"prod4",productName:"Thermostat intelligent",quantity:1,unitPrice:50,imageUrl:"/climatisation.jpeg"}],shippingAddress:{fullName:"Jean Dupont",streetAddress:"15 Rue de la Paix",city:"Paris",postalCode:"75001",country:"France"},billingAddress:{fullName:"Jean Dupont",streetAddress:"15 Rue de la Paix",city:"Paris",postalCode:"75001",country:"France"}},{id:"3",orderNumber:"CMD-2023-078",date:"2023-06-05T09:45:00Z",status:"shipped",totalAmount:1899.99,items:[{id:"item5",productId:"prod5",productName:"Climatiseur réversible DAIKIN",quantity:1,unitPrice:1599.99,imageUrl:"/climatisation.jpeg"},{id:"item6",productId:"prod6",productName:"Installation premium",quantity:1,unitPrice:300,imageUrl:"/chauffage.jpeg"}],shippingAddress:{fullName:"Marie Martin",streetAddress:"28 Avenue des Champs-Élysées",city:"Paris",postalCode:"75008",country:"France"},billingAddress:{fullName:"Marie Martin",streetAddress:"28 Avenue des Champs-Élysées",city:"Paris",postalCode:"75008",country:"France"}},{id:"4",orderNumber:"CMD-2023-096",date:"2023-07-12T16:20:00Z",status:"delivered",totalAmount:799.99,items:[{id:"item7",productId:"prod7",productName:"Chauffe-eau thermodynamique",quantity:1,unitPrice:799.99,imageUrl:"/chauffage.jpeg"}],shippingAddress:{fullName:"Pierre Dubois",streetAddress:"45 Rue du Commerce",city:"Lyon",postalCode:"69002",country:"France"},billingAddress:{fullName:"Pierre Dubois",streetAddress:"45 Rue du Commerce",city:"Lyon",postalCode:"69002",country:"France"}},{id:"5",orderNumber:"CMD-2023-125",date:"2023-08-28T11:05:00Z",status:"processing",totalAmount:2499.99,items:[{id:"item8",productId:"prod8",productName:"Pompe à chaleur Air/Eau",quantity:1,unitPrice:2199.99,imageUrl:"/chauffage.jpeg"},{id:"item9",productId:"prod9",productName:"Kit de raccordement premium",quantity:1,unitPrice:300,imageUrl:"/climatisation.jpeg"}],shippingAddress:{fullName:"Sophie Bernard",streetAddress:"12 Boulevard Victor Hugo",city:"Nice",postalCode:"06000",country:"France"},billingAddress:{fullName:"Sophie Bernard",streetAddress:"12 Boulevard Victor Hugo",city:"Nice",postalCode:"06000",country:"France"}},{id:"6",orderNumber:"CMD-2023-156",date:"2023-09-15T14:30:00Z",status:"cancelled",totalAmount:349.99,items:[{id:"item10",productId:"prod10",productName:"Radiateur électrique intelligent",quantity:1,unitPrice:349.99,imageUrl:"/chauffage.jpeg"}],shippingAddress:{fullName:"Lucas Petit",streetAddress:"8 Rue de la République",city:"Marseille",postalCode:"13001",country:"France"},billingAddress:{fullName:"Lucas Petit",streetAddress:"8 Rue de la République",city:"Marseille",postalCode:"13001",country:"France"}},{id:"7",orderNumber:"CMD-2023-189",date:"2023-10-02T09:15:00Z",status:"shipped",totalAmount:1799.99,items:[{id:"item11",productId:"prod11",productName:"Climatiseur mobile DELONGHI",quantity:2,unitPrice:899.99,imageUrl:"/climatisation.jpeg"}],shippingAddress:{fullName:"Emma Roux",streetAddress:"25 Avenue Jean Jaurès",city:"Toulouse",postalCode:"31000",country:"France"},billingAddress:{fullName:"Emma Roux",streetAddress:"25 Avenue Jean Jaurès",city:"Toulouse",postalCode:"31000",country:"France"}},{id:"8",orderNumber:"CMD-2023-201",date:"2023-10-20T15:45:00Z",status:"processing",totalAmount:3299.99,items:[{id:"item12",productId:"prod12",productName:"Système de climatisation complet",quantity:1,unitPrice:2799.99,imageUrl:"/climatisation.jpeg"},{id:"item13",productId:"prod13",productName:"Installation et mise en service",quantity:1,unitPrice:500,imageUrl:"/chauffage.jpeg"}],shippingAddress:{fullName:"Thomas Moreau",streetAddress:"56 Rue Nationale",city:"Bordeaux",postalCode:"33000",country:"France"},billingAddress:{fullName:"Thomas Moreau",streetAddress:"56 Rue Nationale",city:"Bordeaux",postalCode:"33000",country:"France"}}]),p(!1)},1e3)},[]);const f=t=>{const d=new Date(t);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(d)},y=t=>{switch(t){case"processing":return{label:"En cours",color:"text-blue-500"};case"shipped":return{label:"Expédiée",color:"text-indigo-500"};case"delivered":return{label:"Livrée",color:"text-green-500"};case"cancelled":return{label:"Annulée",color:"text-red-500"};default:return{label:"Inconnu",color:"text-gray-500"}}},N=t=>{x(t)},F=a.filter(t=>{const d=t.orderNumber.toLowerCase().includes(u.toLowerCase()),j=i==="all"||t.status===i;return d&&j});return e.jsx(q,{children:e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("h1",{className:"text-3xl font-bold text-gray-800 flex items-center",children:[e.jsx(l,{className:"mr-3 text-[#007FFF]"}),"Mes Commandes"]})}),!g&&!n&&a.length>0&&e.jsxs("div",{className:"mb-8 space-y-4 md:space-y-0 md:flex md:items-center md:space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(C,{className:"w-5 h-5 text-gray-500"})}),e.jsx("input",{type:"text",placeholder:"Rechercher une commande...",value:u,onChange:t=>h(t.target.value),className:"block w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#007FFF] focus:border-transparent transition-colors bg-white"})]}),e.jsxs("div",{className:"relative min-w-[200px]",children:[e.jsxs("select",{value:i,onChange:t=>b(t.target.value),className:"block w-full pl-4 pr-10 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#007FFF] focus:border-transparent appearance-none transition-colors bg-white/80 backdrop-blur-sm",children:[e.jsx("option",{value:"all",children:"Tous les statuts"}),e.jsx("option",{value:"delivered",children:"Livrée"}),e.jsx("option",{value:"processing",children:"En cours"}),e.jsx("option",{value:"shipped",children:"Expédiée"}),e.jsx("option",{value:"cancelled",children:"Annulée"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx(w,{className:"h-4 w-4 text-gray-400"})})]})]}),n?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#007FFF]"})}):c?e.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded mb-6",children:e.jsxs("p",{className:"flex items-center",children:[e.jsx(P,{className:"mr-2"}),c]})}):a.length===0?e.jsxs("div",{className:"bg-gray-100 rounded-lg p-8 text-center shadow-sm",children:[e.jsx(l,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune commande"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Vous n'avez pas encore passé de commande."}),e.jsx("button",{onClick:()=>r("/nos-produits"),className:"px-4 py-2 bg-[#007FFF] text-white rounded-md hover:bg-[#7CB9E8] transition-colors",children:"Parcourir nos produits"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-8 px-4 sm:px-6 lg:px-8",children:F.map(t=>e.jsxs("div",{className:"relative overflow-hidden border border-gray-100 rounded-xl hover:shadow-lg transition-all duration-300 bg-gradient-to-br from-white to-gray-50 hover:scale-[1.02] group",children:[e.jsx("div",{className:`absolute top-0 left-0 right-0 h-1 ${t.status==="delivered"?"bg-gradient-to-r from-green-400 to-green-500":t.status==="processing"?"bg-gradient-to-r from-blue-400 to-blue-500":t.status==="shipped"?"bg-gradient-to-r from-indigo-400 to-indigo-500":t.status==="cancelled"?"bg-gradient-to-r from-red-400 to-red-500":"bg-gradient-to-r from-gray-300 to-gray-400"}`}),e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("h3",{className:"text-base font-bold text-gray-800 group-hover:text-[#007FFF] transition-colors",children:["Commande #",t.orderNumber]}),e.jsxs("div",{className:"flex items-center mt-1 text-gray-500",children:[e.jsx(D,{className:"mr-1 text-[#007FFF] text-xs"}),e.jsx("span",{className:"text-xs",children:f(t.date)})]})]}),e.jsxs("div",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center ${t.status==="delivered"?"bg-green-50 text-green-700 border border-green-200":t.status==="processing"?"bg-blue-50 text-blue-700 border border-blue-200":t.status==="shipped"?"bg-indigo-50 text-indigo-700 border border-indigo-200":t.status==="cancelled"?"bg-red-50 text-red-700 border border-red-200":"bg-gray-50 text-gray-700 border border-gray-200"}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full mr-1.5 ${t.status==="delivered"?"bg-green-500":t.status==="processing"?"bg-blue-500":t.status==="shipped"?"bg-indigo-500":t.status==="cancelled"?"bg-red-500":"bg-gray-500"}`}),y(t.status).label]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between rounded-lg p-3 bg-gray-50/80 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-1.5 rounded-md bg-[#007FFF]/10 mr-2",children:e.jsx(l,{className:"text-[#007FFF] text-xs"})}),e.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Articles"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-800",children:t.items.length})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#007FFF]/5 rounded-lg",children:[e.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Total"}),e.jsxs("div",{className:"flex items-center text-sm font-bold text-gray-800",children:[e.jsx("span",{className:"text-[#007FFF] mr-1 text-xs",children:"€"}),t.totalAmount.toLocaleString("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2 pt-2",children:[e.jsxs("button",{onClick:()=>N(t),className:"w-full bg-[#007FFF] text-white rounded-lg py-2 px-4 text-sm font-medium hover:bg-[#0066CC] transition-all duration-200 flex items-center justify-center shadow-sm hover:shadow group-hover:shadow-md",children:[e.jsx(I,{className:"mr-2 text-xs"}),"Voir détail"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("button",{className:"group/btn relative w-full text-[#007FFF] border border-[#007FFF] rounded-lg py-2 px-4 text-sm font-medium hover:bg-[#007FFF] hover:text-white transition-all duration-200 flex items-center justify-center overflow-hidden",children:[e.jsxs("div",{className:"relative z-10 flex items-center justify-center",children:[e.jsx(R,{className:"mr-2 text-xs"}),"Devis"]}),e.jsx("div",{className:"absolute inset-0 bg-[#007FFF] transform scale-x-0 group-hover/btn:scale-x-100 transition-transform origin-left duration-200 z-0"})]}),e.jsxs("button",{className:"group/btn relative w-full text-[#007FFF] border border-[#007FFF] rounded-lg py-2 px-4 text-sm font-medium hover:bg-[#007FFF] hover:text-white transition-all duration-200 flex items-center justify-center overflow-hidden",children:[e.jsxs("div",{className:"relative z-10 flex items-center justify-center",children:[e.jsx(S,{className:"mr-2 text-xs"}),"Facture"]}),e.jsx("div",{className:"absolute inset-0 bg-[#007FFF] transform scale-x-0 group-hover/btn:scale-x-100 transition-transform origin-left duration-200 z-0"})]})]})]})]})]},t.id))})]})})})};export{L as default};
