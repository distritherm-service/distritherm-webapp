import{r as o,j as e,q as M,G as y,I as T,o as Z,n as Q,D as I,L as R,J as H,y as W,A as G}from"./index-BEi8WKuF.js";import{L as J}from"./Layout-Dj9Dgcds.js";/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,l,m)=>m?m.toUpperCase():l.toLowerCase()),E=s=>{const a=X(s);return a.charAt(0).toUpperCase()+a.slice(1)},O=(...s)=>s.filter((a,l,m)=>!!a&&a.trim()!==""&&m.indexOf(a)===l).join(" ").trim(),Y=s=>{for(const a in s)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=o.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:m,className:n="",children:c,iconNode:b,...u},p)=>o.createElement("svg",{ref:p,...ee,width:a,height:a,stroke:s,strokeWidth:m?Number(l)*24/Number(a):l,className:O("lucide",n),...!c&&!Y(u)&&{"aria-hidden":"true"},...u},[...b.map(([d,h])=>o.createElement(d,h)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(s,a)=>{const l=o.forwardRef(({className:m,...n},c)=>o.createElement(te,{ref:c,iconNode:a,className:O(`lucide-${K(E(s))}`,`lucide-${s}`,m),...n}));return l.displayName=E(s),l};/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],ae=f("arrow-up-down",se);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ie=f("chevron-left",re);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],oe=f("chevron-right",ne);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],ce=f("chevrons-left",le);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],me=f("chevrons-right",de);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],he=f("ellipsis",xe);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],pe=f("funnel",ue);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],B=f("search",ge);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],fe=f("trash-2",ye);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],je=f("x",be),we=({favorites:s,onSearch:a,onSort:l,onFilter:m,favoritesCount:n})=>{const[c,b]=o.useState(""),[u,p]=o.useState(!1),[d,h]=o.useState(!1),[x,j]=o.useState("default"),[w,F]=o.useState("all"),C=o.useRef(null),v=o.useRef(null);o.useEffect(()=>{const g=k=>{C.current&&!C.current.contains(k.target)&&p(!1),v.current&&!v.current.contains(k.target)&&h(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]);const L=g=>{const k=g.target.value;b(k),a(k)},S=()=>{b(""),a("")},N=g=>{j(g),l(g),p(!1)},P=g=>{F(g),m(g),h(!1)},$=()=>{switch(x){case"name-asc":return"Nom (A-Z)";case"name-desc":return"Nom (Z-A)";case"price-asc":return"Prix croissant";case"price-desc":return"Prix décroissant";case"date-added":return"Date d'ajout";default:return"Trier par"}},_=()=>{switch(w){case"promotion":return"En promotion";case"normal":return"Prix normal";default:return"Tous"}};return e.jsxs("div",{className:"mb-8 w-full",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-800 flex items-center",children:["Mes favoris",e.jsx(M,{className:"ml-2.5 text-red-500"})]}),e.jsx(y.div,{className:"ml-3 flex items-center justify-center min-w-6 h-6 bg-teal-600 text-white text-sm font-bold rounded-full px-2",initial:{scale:.8},animate:{scale:1},transition:{type:"spring",stiffness:300,damping:10},children:n})]}),e.jsxs("div",{className:"flex sm:flex-row md:justify-end gap-3",children:[e.jsxs("div",{className:"relative w-full sm:w-64",children:[e.jsx("input",{type:"text",value:c,onChange:L,placeholder:"Rechercher dans mes favoris...",className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 outline-none"}),e.jsx(B,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),c&&e.jsx("button",{onClick:S,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(je,{size:18})})]}),e.jsxs("div",{className:"relative",ref:C,children:[e.jsxs("button",{onClick:()=>p(!u),className:"flex items-center justify-between gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 w-full sm:w-auto whitespace-nowrap",children:[e.jsx("span",{className:"text-gray-700",children:$()}),e.jsx(ae,{size:18,className:"text-gray-500"})]}),e.jsx(T,{children:u&&e.jsx(y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute right-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-100 z-10",children:e.jsxs("div",{className:"py-1",children:[e.jsx("button",{onClick:()=>N("name-asc"),className:`block px-4 py-2 text-sm w-full text-left hover:bg-gray-50 ${x==="name-asc"?"bg-teal-50 text-teal-700":"text-gray-700"}`,children:"Nom (A-Z)"}),e.jsx("button",{onClick:()=>N("name-desc"),className:`block px-4 py-2 text-sm w-full text-left hover:bg-gray-50 ${x==="name-desc"?"bg-teal-50 text-teal-700":"text-gray-700"}`,children:"Nom (Z-A)"}),e.jsx("button",{onClick:()=>N("price-asc"),className:`block px-4 py-2 text-sm w-full text-left hover:bg-gray-50 ${x==="price-asc"?"bg-teal-50 text-teal-700":"text-gray-700"}`,children:"Prix croissant"}),e.jsx("button",{onClick:()=>N("price-desc"),className:`block px-4 py-2 text-sm w-full text-left hover:bg-gray-50 ${x==="price-desc"?"bg-teal-50 text-teal-700":"text-gray-700"}`,children:"Prix décroissant"}),e.jsx("button",{onClick:()=>N("date-added"),className:`block px-4 py-2 text-sm w-full text-left hover:bg-gray-50 ${x==="date-added"?"bg-teal-50 text-teal-700":"text-gray-700"}`,children:"Date d'ajout"})]})})})]}),e.jsxs("div",{className:"relative",ref:v,children:[e.jsxs("button",{onClick:()=>h(!d),className:"flex items-center justify-between gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 w-full sm:w-auto whitespace-nowrap",children:[e.jsx("span",{className:"text-gray-700",children:_()}),e.jsx(pe,{size:18,className:"text-gray-500"})]}),e.jsx(T,{children:d&&e.jsx(y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute right-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-100 z-10",children:e.jsxs("div",{className:"py-1",children:[e.jsx("button",{onClick:()=>P("all"),className:`block px-4 py-2 text-sm w-full text-left hover:bg-gray-50 ${w==="all"?"bg-teal-50 text-teal-700":"text-gray-700"}`,children:"Tous les produits"}),e.jsx("button",{onClick:()=>P("promotion"),className:`block px-4 py-2 text-sm w-full text-left hover:bg-gray-50 ${w==="promotion"?"bg-teal-50 text-teal-700":"text-gray-700"}`,children:"En promotion"}),e.jsx("button",{onClick:()=>P("normal"),className:`block px-4 py-2 text-sm w-full text-left hover:bg-gray-50 ${w==="normal"?"bg-teal-50 text-teal-700":"text-gray-700"}`,children:"Prix normal"})]})})})]})]})]}),c&&e.jsx("div",{className:"mt-4 text-sm text-gray-600 text-right",children:s.length===0?`Aucun résultat trouvé pour "${c}"`:`${s.length} résultat(s) trouvé(s) pour "${c}"`})]})},ve=({currentPage:s,totalPages:a,onPageChange:l,siblingCount:m=1,className:n=""})=>{if(a<=1)return console.log("Pagination non affichée car totalPages <= 1:",{currentPage:s,totalPages:a}),null;console.log("Pagination rendue avec:",{currentPage:s,totalPages:a,siblingCount:m});const b=(()=>{const d=Math.max(1,s-m),h=Math.min(a,s+m),x=[];d>1&&(x.push(1),d>2&&x.push("dots-left"));for(let j=d;j<=h;j++)x.push(j);return h<a&&(h<a-1&&x.push("dots-right"),x.push(a)),x})();console.log("Pages générées:",b);const u=s===1,p=s===a;return e.jsx("nav",{"aria-label":"Pagination",className:`flex flex-wrap items-center justify-center mt-6 ${n}`,children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e.jsxs("ul",{className:"flex items-center",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>l(1),disabled:u,className:`flex items-center justify-center h-10 px-4 border-r ${u?"text-gray-300 bg-gray-50 cursor-not-allowed":"text-gray-700 bg-white hover:bg-gray-100 hover:text-teal-600"}`,"aria-label":"Première page",children:e.jsx(ce,{size:18,className:"h-5 w-5"})})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>l(s-1),disabled:u,className:`flex items-center justify-center h-10 px-4 border-r ${u?"text-gray-300 bg-gray-50 cursor-not-allowed":"text-gray-700 bg-white hover:bg-gray-100 hover:text-teal-600"}`,"aria-label":"Page précédente",children:e.jsx(ie,{size:18,className:"h-5 w-5"})})}),b.map((d,h)=>typeof d=="number"?e.jsx("li",{children:e.jsx("button",{onClick:()=>l(d),className:`flex items-center justify-center h-10 w-12 text-sm border-r ${s===d?"z-10 bg-teal-600 text-white font-medium hover:bg-teal-700":"text-gray-500 bg-white hover:bg-gray-100 hover:text-teal-600"}`,"aria-current":s===d?"page":void 0,children:d})},h):e.jsx("li",{children:e.jsx("span",{className:"flex items-center justify-center h-10 w-12 text-gray-500 border-r bg-white",children:e.jsx(he,{size:16,className:"h-5 w-5"})})},h)),e.jsx("li",{children:e.jsx("button",{onClick:()=>l(s+1),disabled:p,className:`flex items-center justify-center h-10 px-4 border-r ${p?"text-gray-300 bg-gray-50 cursor-not-allowed":"text-gray-700 bg-white hover:bg-gray-100 hover:text-teal-600"}`,"aria-label":"Page suivante",children:e.jsx(oe,{size:18,className:"h-5 w-5"})})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>l(a),disabled:p,className:`flex items-center justify-center h-10 px-4 ${p?"text-gray-300 bg-gray-50 cursor-not-allowed":"text-gray-700 bg-white hover:bg-gray-100 hover:text-teal-600"}`,"aria-label":"Dernière page",children:e.jsx(me,{size:18,className:"h-5 w-5"})})})]})})})},Ce=()=>{const{favorites:s,removeFromFavorites:a,isLoading:l,favoritesCount:m,paginationMeta:n,fetchFavoritesPage:c}=Z(),{addToCart:b,isInCart:u}=Q(),[p,d]=o.useState({}),[h,x]=o.useState(!1),[j,w]=o.useState(""),[F,C]=o.useState("default"),[v,L]=o.useState("all"),S=o.useMemo(()=>{let t=[...s];if(j){const r=j.toLowerCase();t=t.filter(i=>i.name.toLowerCase().includes(r)||i.description&&i.description.toLowerCase().includes(r))}switch(v==="promotion"?t=t.filter(r=>r.isInPromotion):v==="normal"&&(t=t.filter(r=>!r.isInPromotion)),F){case"name-asc":t.sort((r,i)=>r.name.localeCompare(i.name));break;case"name-desc":t.sort((r,i)=>i.name.localeCompare(r.name));break;case"price-asc":t.sort((r,i)=>{const A=r.isInPromotion&&r.promotionPrice?r.promotionPrice:r.priceTtc,z=i.isInPromotion&&i.promotionPrice?i.promotionPrice:i.priceTtc;return A-z});break;case"price-desc":t.sort((r,i)=>{const A=r.isInPromotion&&r.promotionPrice?r.promotionPrice:r.priceTtc;return(i.isInPromotion&&i.promotionPrice?i.promotionPrice:i.priceTtc)-A});break;case"date-added":t.sort((r,i)=>{const A=r.createdAt?new Date(r.createdAt).getTime():0;return(i.createdAt?new Date(i.createdAt).getTime():0)-A});break}return t},[s,j,F,v]),N={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.07,delayChildren:.2}}},P={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:260,damping:20}}},$={hidden:{opacity:0},show:{opacity:1,transition:{duration:.4}}},_=t=>{b({id:t.id.toString(),name:t.name,price:t.priceTtc,image:t.image||(t.imagesUrl&&t.imagesUrl.length>0?t.imagesUrl[0]:""),quantity:1})},g=async t=>{const r=t.toString();d(i=>({...i,[r]:!0}));try{await a(t)}finally{d(i=>({...i,[r]:!1}))}},k=t=>{w(t)},q=t=>{C(t)},D=t=>{L(t)},U=async()=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer tous vos favoris ? Cette action est irréversible.")){x(!0);try{await G.delete("/favorites/all"),await c(1,n.limit),alert("Tous vos produits favoris ont été supprimés avec succès")}catch(t){console.error("Erreur lors de la suppression de tous les favoris:",t),alert("Une erreur s'est produite lors de la suppression de vos favoris")}finally{x(!1)}}},V=o.useCallback(t=>{console.log("Changement de page:",t),c(t,n.limit)},[c,n.limit]);return console.log("Métadonnées de pagination:",n),e.jsx(J,{children:e.jsx(y.div,{className:"min-h-screen bg-gray-50",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(we,{favorites:S,onSearch:k,onSort:q,onFilter:D,favoritesCount:m}),s.length>0&&e.jsx("div",{className:"flex justify-end -mt-2 mb-4",children:e.jsx("button",{onClick:U,disabled:h,className:"flex items-center gap-2 px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-sm hover:shadow-md","aria-label":"Supprimer tous les favoris",children:h?e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Suppression en cours..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(fe,{className:"w-5 h-5"}),e.jsx("span",{children:"Supprimer tous les favoris"})]})})}),e.jsx(T,{mode:"wait",children:l?e.jsxs(y.div,{initial:"hidden",animate:"show",exit:"hidden",variants:$,className:"flex justify-center items-center py-16",children:[e.jsx(I,{className:"w-10 h-10 text-teal-600 animate-spin"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Chargement de vos favoris..."})]},"loading"):s.length===0?e.jsxs(y.div,{initial:"hidden",animate:"show",exit:"hidden",variants:$,className:"text-center py-16",children:[e.jsx(M,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-medium text-gray-600 mb-2",children:"Vous n'avez pas encore de favoris"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Explorez nos produits et promotions pour en ajouter !"}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx(R,{to:"/nos-produits",className:"bg-teal-600 text-white px-6 py-2 rounded-lg hover:bg-teal-700 transition-colors duration-200",children:"Voir les produits"}),e.jsx(R,{to:"/promotions",className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition-colors duration-200",children:"Voir les promotions"})]})]},"empty"):S.length===0?e.jsxs(y.div,{initial:"hidden",animate:"show",exit:"hidden",variants:$,className:"text-center py-16",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(B,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h2",{className:"text-xl font-medium text-gray-600 mb-2",children:"Aucun résultat trouvé"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Essayez d'autres mots-clés ou modifiez vos filtres"}),e.jsx("button",{onClick:()=>{w(""),C("default"),L("all")},className:"bg-teal-600 text-white px-6 py-2 rounded-lg hover:bg-teal-700 transition-colors duration-200",children:"Réinitialiser les filtres"})]},"no-results"):e.jsxs(e.Fragment,{children:[e.jsx(y.div,{variants:N,initial:"hidden",animate:"show",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",layout:!0,children:S.map(t=>e.jsxs(y.div,{variants:P,layout:!0,className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden border border-gray-100",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.image||(t.imagesUrl&&t.imagesUrl.length>0?t.imagesUrl[0]:"/image-produit-defaut.jpeg"),alt:t.name,className:"w-full h-48 object-cover",onError:r=>{const i=r.target;i.onerror=null,i.src="/image-produit-defaut.jpeg"}}),e.jsx("button",{onClick:()=>g(t.id),disabled:p[t.id.toString()],className:"absolute top-3 right-3 p-2 bg-white rounded-full shadow-md hover:bg-red-50 transition-all duration-200 group","aria-label":"Retirer des favoris",children:p[t.id.toString()]?e.jsx(I,{className:"w-5 h-5 text-red-500 animate-spin"}):e.jsx(H,{className:"w-5 h-5 text-red-500 group-hover:scale-110 transition-transform duration-200"})}),t.isInPromotion&&e.jsx("div",{className:"absolute top-3 left-3 bg-red-500 text-white text-xs font-semibold px-3 py-1 rounded-full",children:"PROMO"})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"px-2.5 py-1 text-xs rounded-full bg-teal-100 text-teal-800 font-medium",children:t.isInPromotion?"Promotion":"Produit"}),e.jsx("span",{className:"font-medium text-gray-900 text-lg",children:t.isInPromotion&&t.promotionPrice?e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs("span",{className:"text-sm line-through text-gray-500",children:[t.priceTtc.toFixed(2)," €"]}),e.jsxs("span",{className:"text-red-600 font-semibold",children:[t.promotionPrice.toFixed(2)," €"]})]}):`${t.priceTtc.toFixed(2)} €`})]}),e.jsx("h3",{className:"font-medium text-gray-900 mb-2 line-clamp-2 text-lg",children:t.name}),t.description&&e.jsx("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx(R,{to:`/produit/${t.id}`,className:"flex-1 text-center bg-gray-100 text-gray-700 px-4 py-2.5 rounded-lg hover:bg-gray-200 transition-colors duration-300 font-medium",children:"Voir les détails"}),e.jsxs("button",{onClick:()=>_(t),disabled:u(t.id.toString()),className:`flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg transition-all duration-300 font-medium ${u(t.id.toString())?"bg-green-100 text-green-700 cursor-not-allowed":"bg-teal-600 text-white hover:bg-teal-700 hover:shadow"}`,children:[e.jsx(W,{className:"w-4 h-4"}),u(t.id.toString())?"Dans le panier":"Ajouter"]})]})]})]},t.id))},"results"),n.lastPage>0&&e.jsx(y.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-center mt-8 mb-4 text-sm text-gray-600 bg-gray-50 py-3 px-4 rounded-lg shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"Page"}),e.jsx("span",{className:"font-medium mx-1 text-teal-700",children:n.page}),e.jsx("span",{className:"mx-1",children:"sur"}),e.jsx("span",{className:"font-medium mx-1 text-teal-700",children:n.lastPage}),e.jsx("span",{className:"mx-2",children:"•"}),e.jsx("span",{children:"Affichage"}),e.jsxs("span",{className:"font-medium mx-1 text-teal-700",children:[n.total>0?(n.page-1)*n.limit+1:0,"-",Math.min(n.page*n.limit,n.total)]}),e.jsx("span",{className:"mx-1",children:"sur"}),e.jsx("span",{className:"font-medium mx-1 text-teal-700",children:n.total}),e.jsx("span",{className:"mx-1",children:"produits"}),e.jsx("span",{className:"mx-2",children:"•"}),e.jsx("span",{className:"font-medium text-teal-700",children:n.limit}),e.jsx("span",{className:"ml-1",children:"par page"})]})}),n.lastPage>1&&e.jsx(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-4 mb-8",children:e.jsx(ve,{currentPage:n.page,totalPages:n.lastPage,onPageChange:V,className:"shadow-sm",siblingCount:1})})]})})]})})})};export{Ce as default};
