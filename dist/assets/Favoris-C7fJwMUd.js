import{r as l,j as e,x as K,p as X,c as Y,n as ee,v as x,B as te,y as q,z as se,A as re,C as ae,q as ie,D as oe,E as z,G as A,H as B,I as ne,L as _,J as le,m as de,k as ce}from"./index-DFVFysGo.js";import{B as me}from"./BrandsSection-NLuRHhKv.js";import{P as xe}from"./PromotionCard-1H6xqXY_.js";/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pe=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,o,n)=>n?n.toUpperCase():o.toLowerCase()),R=s=>{const a=pe(s);return a.charAt(0).toUpperCase()+a.slice(1)},U=(...s)=>s.filter((a,o,n)=>!!a&&a.trim()!==""&&n.indexOf(a)===o).join(" ").trim(),ge=s=>{for(const a in s)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=l.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:n,className:y="",children:p,iconNode:f,...h},c)=>l.createElement("svg",{ref:c,...ue,width:a,height:a,stroke:s,strokeWidth:n?Number(o)*24/Number(a):o,className:U("lucide",y),...!p&&!ge(h)&&{"aria-hidden":"true"},...h},[...f.map(([d,m])=>l.createElement(d,m)),...Array.isArray(p)?p:[p]]));/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=(s,a)=>{const o=l.forwardRef(({className:n,...y},p)=>l.createElement(ye,{ref:p,iconNode:a,className:U(`lucide-${he(R(s))}`,`lucide-${s}`,n),...y}));return o.displayName=R(s),o};/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fe=k("chevron-left",be);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],we=k("chevron-right",je);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],Ne=k("chevrons-left",ve);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],Ce=k("chevrons-right",ke);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Fe=k("ellipsis",Pe),Ae=({currentPage:s,totalPages:a,onPageChange:o,siblingCount:n=1,className:y=""})=>{if(a<=1)return console.log("Pagination non affichée car totalPages <= 1:",{currentPage:s,totalPages:a}),null;console.log("Pagination rendue avec:",{currentPage:s,totalPages:a,siblingCount:n});const f=(()=>{const d=Math.max(1,s-n),m=Math.min(a,s+n),g=[];d>1&&(g.push(1),d>2&&g.push("dots-left"));for(let u=d;u<=m;u++)g.push(u);return m<a&&(m<a-1&&g.push("dots-right"),g.push(a)),g})();console.log("Pages générées:",f);const h=s===1,c=s===a;return e.jsx("nav",{"aria-label":"Pagination",className:`flex flex-wrap items-center justify-center mt-6 ${y}`,children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e.jsxs("ul",{className:"flex items-center",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>o(1),disabled:h,className:`flex items-center justify-center h-10 px-4 border-r ${h?"text-gray-300 bg-gray-50 cursor-not-allowed":"text-gray-700 bg-white hover:bg-gray-100 hover:text-teal-600"}`,"aria-label":"Première page",children:e.jsx(Ne,{size:18,className:"h-5 w-5"})})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>o(s-1),disabled:h,className:`flex items-center justify-center h-10 px-4 border-r ${h?"text-gray-300 bg-gray-50 cursor-not-allowed":"text-gray-700 bg-white hover:bg-gray-100 hover:text-teal-600"}`,"aria-label":"Page précédente",children:e.jsx(fe,{size:18,className:"h-5 w-5"})})}),f.map((d,m)=>typeof d=="number"?e.jsx("li",{children:e.jsx("button",{onClick:()=>o(d),className:`flex items-center justify-center h-10 w-12 text-sm border-r ${s===d?"z-10 bg-teal-600 text-white font-medium hover:bg-teal-700":"text-gray-500 bg-white hover:bg-gray-100 hover:text-teal-600"}`,"aria-current":s===d?"page":void 0,children:d})},m):e.jsx("li",{children:e.jsx("span",{className:"flex items-center justify-center h-10 w-12 text-gray-500 border-r bg-white",children:e.jsx(Fe,{size:16,className:"h-5 w-5"})})},m)),e.jsx("li",{children:e.jsx("button",{onClick:()=>o(s+1),disabled:c,className:`flex items-center justify-center h-10 px-4 border-r ${c?"text-gray-300 bg-gray-50 cursor-not-allowed":"text-gray-700 bg-white hover:bg-gray-100 hover:text-teal-600"}`,"aria-label":"Page suivante",children:e.jsx(we,{size:18,className:"h-5 w-5"})})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>o(a),disabled:c,className:`flex items-center justify-center h-10 px-4 ${c?"text-gray-300 bg-gray-50 cursor-not-allowed":"text-gray-700 bg-white hover:bg-gray-100 hover:text-teal-600"}`,"aria-label":"Dernière page",children:e.jsx(Ce,{size:18,className:"h-5 w-5"})})})]})})})},Le=()=>{const{favorites:s,isLoading:a,favoritesCount:o,paginationMeta:n,fetchFavoritesPage:y,removeFromFavorites:p}=K(),[f,h]=l.useState(!1),[c,d]=l.useState(""),[m,g]=l.useState("default"),[u,S]=l.useState("all"),[w,T]=l.useState("all"),[v,I]=l.useState("all"),[O,L]=l.useState([]),[V,$]=l.useState([]),[C,E]=l.useState("grid"),[P,Z]=l.useState(!1);X.useEffect(()=>{(async()=>{try{const t=await Y.getCategories();L(t.map(r=>r.name))}catch{L([])}try{const t=await ee();$(t)}catch{$([])}})()},[]);const N=l.useMemo(()=>{let t=[...s];if(c){const r=c.toLowerCase();t=t.filter(i=>i.name.toLowerCase().includes(r)||i.description&&i.description.toLowerCase().includes(r))}switch(u==="promotion"?t=t.filter(r=>r.isInPromotion):u==="normal"&&(t=t.filter(r=>!r.isInPromotion)),w!=="all"&&(t=t.filter(r=>{var i;return((i=r.category)==null?void 0:i.name)===w})),v!=="all"&&(t=t.filter(r=>{var i;return((i=r.mark)==null?void 0:i.name)===v})),m){case"name-asc":t.sort((r,i)=>r.name.localeCompare(i.name));break;case"name-desc":t.sort((r,i)=>i.name.localeCompare(r.name));break;case"price-asc":t.sort((r,i)=>{const b=r.isInPromotion&&r.promotionPrice?r.promotionPrice:r.priceTtc,j=i.isInPromotion&&i.promotionPrice?i.promotionPrice:i.priceTtc;return b-j});break;case"price-desc":t.sort((r,i)=>{const b=r.isInPromotion&&r.promotionPrice?r.promotionPrice:r.priceTtc;return(i.isInPromotion&&i.promotionPrice?i.promotionPrice:i.priceTtc)-b});break;case"date-added":t.sort((r,i)=>{const b=r.favoriteCreatedAt?new Date(r.favoriteCreatedAt).getTime():0;return(i.favoriteCreatedAt?new Date(i.favoriteCreatedAt).getTime():0)-b});break}return t},[s,c,m,u,w,v]),H=async()=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer tous vos favoris ?")){h(!0);try{const t=s.map(r=>p(r.id));await Promise.all(t)}catch(t){console.error("Erreur lors de la suppression:",t)}finally{h(!1)}}},Q=l.useCallback(t=>{y(t,n.limit)},[y,n.limit]),W=(t,r)=>Math.round((t-r)/t*100),F=()=>{d(""),g("default"),S("all"),T("all"),I("all")},M=c||m!=="default"||u!=="all"||w!=="all"||v!=="all",G={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},D={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("section",{className:"relative h-64 md:h-80 lg:h-[420px] w-full overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{src:"/icone/image-panier.png",alt:"Mes Favoris Distritherm Services",className:"w-full h-full object-cover object-center"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 via-black/30 to-transparent backdrop-blur-sm"})]}),e.jsxs("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-center px-4",children:[e.jsx(x.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl md:text-6xl lg:text-7xl font-extrabold text-white drop-shadow-2xl mb-4 tracking-tight",children:"Mes Favoris"}),e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:e.jsx(te,{})})]}),e.jsx("div",{className:"absolute bottom-0 left-1/2 w-full max-w-none -translate-x-1/2",children:e.jsx("svg",{viewBox:"0 0 1600 100",className:"w-full h-6 md:h-8",preserveAspectRatio:"none",children:e.jsx("path",{d:"M0,0 C600,100 1000,100 1600,0 L1600,100 L0,100 Z",fill:"#f8fafc"})})})]}),e.jsx("div",{className:"relative bg-gray-50 pb-16",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl",children:e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-200 mt-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-white border-b border-gray-200 p-4 md:p-6 lg:p-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2.5 bg-gradient-to-br from-red-500 to-pink-500 rounded-xl shadow-md",children:e.jsx(q,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Ma sélection"}),e.jsxs("p",{className:"text-gray-600 text-sm md:text-base",children:[o||s.length||0," produit",(o||s.length||0)!==1?"s":""," sauvegardé",(o||s.length||0)!==1?"s":""]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1 shadow-inner",children:[e.jsx("button",{onClick:()=>E("grid"),className:`p-2 rounded-md transition-all duration-300 ${C==="grid"?"bg-white text-red-500 shadow-sm transform scale-105":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,title:"Vue grille",children:e.jsx(se,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),e.jsx("button",{onClick:()=>E("list"),className:`p-2 rounded-md transition-all duration-300 ${C==="list"?"bg-white text-red-500 shadow-sm transform scale-105":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,title:"Vue liste",children:e.jsx(re,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})})]}),e.jsx("button",{onClick:()=>Z(!P),className:`p-2 rounded-lg transition-all duration-300 ${P?"bg-red-500 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:"Filtres",children:e.jsx(ae,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),s.length>0&&e.jsxs("button",{onClick:H,disabled:f,className:"flex items-center space-x-2 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-all duration-300 hover:shadow-md disabled:opacity-50",title:"Supprimer tous les favoris",children:[f?e.jsx(ie,{className:"w-3.5 h-3.5 md:w-4 md:h-4 animate-spin"}):e.jsx(oe,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),e.jsx("span",{className:"font-medium text-sm hidden sm:inline",children:"Tout supprimer"})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(z,{className:"absolute left-3 md:left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 md:w-5 md:h-5"}),e.jsx("input",{type:"text",value:c,onChange:t=>d(t.target.value),placeholder:"Rechercher dans vos favoris...",className:"w-full pl-10 md:pl-12 pr-10 md:pr-12 py-3 md:py-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 bg-white shadow-sm transition-all duration-300 text-sm md:text-base"}),c&&e.jsx("button",{onClick:()=>d(""),className:"absolute right-3 md:right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(A,{className:"w-4 h-4"})})]}),e.jsx(B,{children:P&&e.jsxs(x.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs md:text-sm font-medium text-gray-700 mb-1 md:mb-2 flex items-center",children:[e.jsx(ne,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"Trier par"]}),e.jsxs("select",{value:m,onChange:t=>g(t.target.value),className:"w-full px-3 py-2 md:py-3 border border-gray-200 rounded-lg bg-white focus:ring-2 focus:ring-red-500 focus:border-red-500 shadow-sm transition-all duration-300 text-sm",children:[e.jsx("option",{value:"default",children:"Ordre par défaut"}),e.jsx("option",{value:"name-asc",children:"Nom A-Z"}),e.jsx("option",{value:"name-desc",children:"Nom Z-A"}),e.jsx("option",{value:"price-asc",children:"Prix croissant"}),e.jsx("option",{value:"price-desc",children:"Prix décroissant"}),e.jsx("option",{value:"date-added",children:"Plus récent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-gray-700 mb-1 md:mb-2",children:"Type"}),e.jsxs("select",{value:u,onChange:t=>S(t.target.value),className:"w-full px-3 py-2 md:py-3 border border-gray-200 rounded-lg bg-white focus:ring-2 focus:ring-red-500 focus:border-red-500 shadow-sm transition-all duration-300 text-sm",children:[e.jsx("option",{value:"all",children:"Tous les produits"}),e.jsx("option",{value:"promotion",children:"En promotion"}),e.jsx("option",{value:"normal",children:"Prix normal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-gray-700 mb-1 md:mb-2",children:"Catégorie"}),e.jsxs("select",{value:w,onChange:t=>T(t.target.value),className:"w-full px-3 py-2 md:py-3 border border-gray-200 rounded-lg bg-white focus:ring-2 focus:ring-red-500 focus:border-red-500 shadow-sm transition-all duration-300 text-sm",children:[e.jsx("option",{value:"all",children:"Toutes les catégories"}),O.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-gray-700 mb-1 md:mb-2",children:"Marque"}),e.jsxs("select",{value:v,onChange:t=>I(t.target.value),className:"w-full px-3 py-2 md:py-3 border border-gray-200 rounded-lg bg-white focus:ring-2 focus:ring-red-500 focus:border-red-500 shadow-sm transition-all duration-300 text-sm",children:[e.jsx("option",{value:"all",children:"Toutes les marques"}),V.map(t=>e.jsx("option",{value:t,children:t},t))]})]})]}),M&&e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsxs("button",{onClick:F,className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-all duration-300 text-sm",children:[e.jsx(A,{className:"w-3 h-3"}),e.jsx("span",{children:"Réinitialiser les filtres"})]})})]})})]}),e.jsx("div",{className:"p-4 md:p-6 lg:p-8",children:e.jsx(B,{mode:"wait",children:a?e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center py-16 md:py-20",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 border-4 border-red-200 border-t-red-500 rounded-full animate-spin"}),e.jsx("div",{className:"absolute inset-0 w-12 h-12 md:w-16 md:h-16 border-4 border-transparent border-t-pink-500 rounded-full animate-spin",style:{animationDelay:"0.5s"}})]}),e.jsx("p",{className:"text-gray-600 text-base md:text-lg font-medium mt-4 md:mt-6",children:"Chargement de vos favoris..."})]},"loading"):s.length===0?e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center py-16 md:py-20",children:[e.jsx(x.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.2,type:"spring",stiffness:200},className:"relative mx-auto mb-6 md:mb-8",children:e.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 bg-gradient-to-br from-red-50 to-pink-50 rounded-full flex items-center justify-center shadow-lg border border-red-100",children:e.jsx(x.div,{animate:{rotate:[0,-10,10,-5,5,0],scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,repeatDelay:3,ease:"easeInOut"},children:e.jsx(q,{className:"w-10 h-10 md:w-12 md:h-12 text-red-500"})})})}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-3 md:mb-4",children:"Votre liste de favoris est vide"}),e.jsxs("p",{className:"text-gray-600 mb-6 md:mb-8 text-base md:text-lg max-w-md mx-auto leading-relaxed",children:["Explorez notre catalogue et découvrez des produits",e.jsx("span",{className:"font-medium text-red-600",children:" exceptionnels"})," qui vous attendent"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4 justify-center",children:[e.jsxs(_,{to:"/nos-produits",className:"group relative inline-flex items-center px-6 md:px-8 py-3 md:py-4 bg-gradient-to-r from-red-600 to-pink-600 text-white font-semibold rounded-xl md:rounded-2xl hover:from-red-700 hover:to-pink-700 transition-all duration-300 transform hover:scale-105 hover:shadow-xl shadow-lg text-sm md:text-base",children:[e.jsx(le,{className:"mr-2 md:mr-3 transition-transform group-hover:-translate-x-1"}),e.jsx("span",{children:"Découvrir nos produits"})]}),e.jsxs(_,{to:"/promotions",className:"group relative inline-flex items-center px-6 md:px-8 py-3 md:py-4 bg-gradient-to-r from-orange-600 to-red-600 text-white font-semibold rounded-xl md:rounded-2xl hover:from-orange-700 hover:to-red-700 transition-all duration-300 transform hover:scale-105 hover:shadow-xl shadow-lg text-sm md:text-base",children:[e.jsx("span",{className:"mr-2 md:mr-3",children:"🔥"}),e.jsx("span",{children:"Voir les promotions"})]})]})]},"empty"):N.length===0?e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center py-16 md:py-20",children:[e.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4 md:mb-6",children:e.jsx(z,{className:"w-10 h-10 md:w-12 md:h-12 text-gray-400"})}),e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-3 md:mb-4",children:"Aucun résultat trouvé"}),e.jsx("p",{className:"text-gray-600 mb-6 md:mb-8 text-sm md:text-base",children:"Essayez d'autres mots-clés ou modifiez vos filtres."}),e.jsx("button",{onClick:F,className:"inline-flex items-center px-4 md:px-6 py-2 md:py-3 bg-gray-600 text-white rounded-xl md:rounded-2xl hover:bg-gray-700 transition-all duration-300 font-medium shadow-lg hover:shadow-xl text-sm md:text-base",children:"Réinitialiser les filtres"})]},"no-results"):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4 md:mb-6",children:[e.jsxs("p",{className:"text-gray-600 text-sm md:text-base",children:[N.length," produit",N.length!==1?"s":""," trouvé",N.length!==1?"s":""]}),M&&e.jsxs("button",{onClick:F,className:"flex items-center space-x-2 px-3 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-all duration-300 self-start sm:self-auto",children:[e.jsx(A,{className:"w-3 h-3"}),e.jsx("span",{children:"Effacer les filtres"})]})]}),e.jsx(x.div,{variants:G,initial:"hidden",animate:"visible",className:C==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6":"space-y-3 md:space-y-4",children:N.map((t,r)=>{var b,j;if(t.isInPromotion&&t.promotionPrice){const J={id:t.id.toString(),title:t.name,description:t.description||"",image:((b=t.imagesUrl)==null?void 0:b[0])||"/image-produit-defaut.jpeg",category:((j=t.category)==null?void 0:j.name)||"",subcategory:"",originalPrice:t.priceTtc,discountPrice:t.promotionPrice,discountPercentage:t.promotionPercentage||W(t.priceTtc,t.promotionPrice),validUntil:t.promotionEndDate||"",code:"",inStock:t.quantity?t.quantity>0:!0,quantity:t.quantity||0};return e.jsx(x.div,{variants:D,children:e.jsx(xe,{promotion:J})},t.id)}const i={id:t.id,name:t.name,description:t.description||"",priceHt:t.priceHt||t.priceTtc,priceTtc:t.priceTtc,quantity:t.quantity||0,imagesUrl:t.imagesUrl&&t.imagesUrl.length>0?t.imagesUrl:["/image-produit-defaut.jpeg"],categoryId:t.categoryId||0,markId:t.markId||0,category:t.category,mark:t.mark,isInPromotion:t.isInPromotion,promotionPrice:t.promotionPrice,promotionEndDate:t.promotionEndDate,promotionPercentage:t.promotionPercentage,createdAt:t.createdAt||"",updatedAt:t.updatedAt||""};return e.jsx(x.div,{variants:D,children:e.jsx(de,{product:i,index:r})},t.id)})},"results"),n.lastPage>1&&e.jsx("div",{className:"mt-8 md:mt-12 flex justify-center",children:e.jsx(Ae,{currentPage:n.page,totalPages:n.lastPage,onPageChange:Q,className:"bg-white rounded-xl md:rounded-2xl shadow-lg border border-gray-200 p-2",siblingCount:1})})]})})})]})})}),e.jsx(me,{}),e.jsx(ce,{})]})};export{Le as default};
