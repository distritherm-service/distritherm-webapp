import{r as d,u as V,o as _,j as e,L as P}from"./index-CEB1cax2.js";import{B as U,F as I}from"./Breadcrumb-BRL5_iup.js";import{g as $,a as G,b as J,c as K,d as B,e as Q,p as X}from"./promotions-CHOaNVAi.js";import{F as Y}from"./FavoriteButton-CvBh6js5.js";const Z=({promotion:t})=>{const[c,m]=d.useState(null),{addToCart:u,isInCart:j}=V(),{addToFavorites:a,removeFromFavorites:h,isFavorite:g}=_(),[p,l]=d.useState(()=>g(t.id)),{id:x,title:o,description:s,image:n,category:i,subcategory:y,brand:v,originalPrice:f,discountPrice:r,discountPercentage:N,validUntil:R,code:T,inStock:k,featured:W}=t,w=$(R),O=f/1.2,z=r/1.2,A=O.toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:2}),D=z.toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:2}),F=f.toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:2}),M=r.toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:2}),q=(f-r).toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:2}),E=()=>{k&&(u({id:t.id,name:t.title,price:r,image:t.image,quantity:1}),L("Promotion ajoutée au panier"))},H=()=>{const b=!p;l(b),b?(a(t,"promotion"),L("Ajouté aux favoris")):(h(t.id),L("Retiré des favoris"))},L=b=>{m(b),setTimeout(()=>m(null),2e3)},C=j(t.id);return e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100 h-full flex flex-col group relative",children:[c&&e.jsx("div",{className:"absolute top-20 left-1/2 transform -translate-x-1/2 bg-black/80 text-white px-4 py-2 rounded-full text-sm z-50 animate-fade-in-down",children:c}),e.jsxs("div",{className:"absolute top-0 right-0 bg-gradient-to-r from-red-500 to-pink-500 text-white font-bold py-1.5 px-3 rounded-bl-xl z-10 transform translate-y-0 group-hover:-translate-y-0.5 transition-transform",children:["-",N,"%"]}),e.jsxs("div",{className:"relative aspect-[4/3]",children:[e.jsx("img",{src:n,alt:o,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",onError:b=>{const S=b.target;S.onerror=null,S.src="https://via.placeholder.com/400x300?text=Distritherm"}}),W&&e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:"bg-gradient-to-r from-amber-400 to-amber-600 text-white text-sm px-3 py-1 rounded-full shadow-md",children:"Offre vedette"})}),!k&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsx("span",{className:"bg-red-500 text-white px-4 py-2 rounded-full font-bold transform -rotate-12 shadow-lg",children:"Rupture de stock"})}),e.jsx(Y,{item:t,type:"promotion",className:"absolute top-2 right-2 p-2 bg-white rounded-full shadow-md hover:bg-red-50"}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/70 to-transparent pt-10 pb-4 px-4",children:e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("span",{className:"inline-block bg-white/20 backdrop-blur-sm text-white text-xs px-2 py-0.5 rounded mb-1",children:i}),e.jsx("h3",{className:"text-lg font-bold text-white line-clamp-1",children:o})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"line-through text-gray-300 text-sm",children:F}),e.jsx("div",{className:"text-white font-bold text-xl",children:M})]})]})})]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsxs("div",{className:"mb-2 flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-semibold text-indigo-600",children:v}),e.jsx("span",{className:"text-xs text-gray-500",children:y})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 flex-grow",children:s}),e.jsxs("div",{className:"mt-auto space-y-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Prix original"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"line-through text-gray-500 text-sm",children:F}),e.jsx("span",{className:"text-xs text-gray-400",children:"(TTC)"})]}),e.jsxs("span",{className:"text-xs text-gray-400",children:["HT: ",A]})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Prix promo"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"font-bold text-teal-600",children:M}),e.jsx("span",{className:"text-xs text-gray-400",children:"(TTC)"})]}),e.jsxs("span",{className:"text-xs text-gray-400",children:["HT: ",D]})]})]})}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Code promo"}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Économisez ",q]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"bg-gradient-to-r from-gray-800 to-gray-700 text-white font-mono font-bold px-3 py-1 rounded text-sm",children:T}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-xs font-medium",onClick:()=>{navigator.clipboard.writeText(T),L("Code copié !")},children:"Copier"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[w>0?e.jsxs("div",{className:"text-xs text-orange-600 font-medium flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),w," jour",w>1?"s":""," restant",w>1?"s":""]}):e.jsxs("div",{className:"text-xs text-red-600 font-medium flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Offre expirée"]}),e.jsxs(P,{to:`/produit/${x}`,className:"text-teal-600 hover:text-teal-700 font-medium text-sm flex items-center gap-1 group",children:["Détails",e.jsx("svg",{className:"w-4 h-4 transform group-hover:translate-x-1 transition-transform duration-200",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:H,className:`flex-1 py-2.5 px-2 rounded-lg font-medium text-sm flex items-center justify-center gap-1.5 transition-all transform hover:-translate-y-0.5 ${p?"bg-red-50 text-red-600 border border-red-200":"bg-gray-50 text-gray-700 border border-gray-200 hover:bg-red-50 hover:text-red-600 hover:border-red-200"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:p?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:p?0:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),p?"Sauvegardé":"Favoris"]}),e.jsx("button",{onClick:E,disabled:!k||C,className:`flex-[2] py-2.5 px-4 rounded-lg font-medium text-sm flex items-center justify-center gap-1.5 transition-all ${k?C?"bg-green-500 text-white shadow-md":"bg-gradient-to-r from-teal-500 to-blue-500 hover:from-teal-600 hover:to-blue-600 text-white shadow-md hover:shadow-lg transform hover:-translate-y-0.5":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:k?C?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Ajouté au panier"]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Ajouter au panier"]}):"Indisponible"})]})]})]})]})},ee=({promotions:t,title:c,showViewAllButton:m=!0})=>(G(),e.jsxs("div",{children:[c&&e.jsx("div",{className:"flex flex-col items-start mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("h2",{className:"text-3xl font-bold text-left",children:e.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-cyan-500 bg-clip-text text-transparent",children:c})}),e.jsx("div",{className:"absolute -bottom-3 left-0 w-32 h-1 bg-gradient-to-r from-blue-600 to-cyan-500 rounded-full"})]})}),t.length===0?e.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-sm border border-gray-100 max-w-xl mx-auto",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Aucune promotion trouvée"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Actuellement, aucune promotion ne correspond à vos critères de recherche."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white px-6 py-2 rounded-lg font-medium text-sm transition-all shadow-md hover:shadow-lg",children:"Réinitialiser les filtres"})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mt-6",children:t.map(u=>e.jsx(Z,{promotion:u},u.id))}),m&&t.length>0&&e.jsx("div",{className:"text-center mt-12",children:e.jsx(P,{to:"/promotions",className:"inline-block bg-gradient-to-r from-blue-600 to-cyan-500 text-white px-8 py-3 rounded-lg font-medium hover:from-blue-700 hover:to-cyan-600 transition-colors shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all",children:"Voir toutes nos promotions"})})]})),re=({filters:t,onFilterChange:c,onSaveFilters:m})=>{var f;const[u,j]=d.useState(!1),[a]=d.useState(["Toutes les catégories",...J()]),[h,g]=d.useState(["Toutes les sous-catégories"]),[p]=d.useState(["Toutes les marques",...K()]),[l]=d.useState(B()),[x,o]=d.useState(t.priceRange);d.useEffect(()=>{if(t.category!=="Toutes les catégories"){const r=Q(t.category);g(["Toutes les sous-catégories",...r])}else g(["Toutes les sous-catégories"])},[t.category]),d.useEffect(()=>{o(t.priceRange)},[t.priceRange]);const s=(r,N)=>{c({[r]:N}),r==="category"&&N!==t.category&&c({subcategory:"Toutes les sous-catégories"})},n=()=>{c({priceRange:x})},i=()=>{m&&m();const r=document.createElement("div");r.classList.add("fixed","bottom-4","right-4","bg-purple-600","text-white","p-4","rounded-lg","shadow-lg","z-50","animate-fade-in"),r.textContent="Filtres sauvegardés avec succès",document.body.appendChild(r),setTimeout(()=>{r.classList.add("animate-fade-out"),setTimeout(()=>r.remove(),500)},3e3)},y=[{value:"featured",label:"Offres vedettes"},{value:"discount_high",label:"Réduction : plus élevée d'abord"},{value:"discount_low",label:"Réduction : plus faible d'abord"},{value:"price_asc",label:"Prix croissant"},{value:"price_desc",label:"Prix décroissant"},{value:"ending_soon",label:"Se termine bientôt"}],v=[{value:"all",label:"Toutes les réductions"},{value:"upto10",label:"Jusqu'à 10%"},{value:"10to20",label:"De 10% à 20%"},{value:"20to30",label:"De 20% à 30%"},{value:"over30",label:"Plus de 30%"}];return e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[e.jsxs("button",{className:"md:hidden w-full p-4 flex items-center justify-between text-gray-800 font-medium bg-gradient-to-r from-purple-50 to-pink-50 border-b border-gray-100",onClick:()=>j(!u),children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filtres et Tri des Promotions"]}),e.jsx("svg",{className:`w-5 h-5 transition-transform ${u?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),e.jsxs("div",{className:`${u?"block":"hidden"} md:block p-6`,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6",children:[e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 group-hover:text-purple-600 transition-colors",children:"Catégorie"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{className:"w-full border border-gray-200 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 appearance-none bg-white pr-8 hover:border-purple-300 transition-colors",value:t.category,onChange:r=>s("category",r.target.value),children:a.map(r=>e.jsx("option",{value:r,children:r},r))}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 group-hover:text-purple-600 transition-colors",children:"Sous-catégorie"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{className:`w-full border rounded-lg p-2.5 text-sm appearance-none bg-white pr-8 transition-colors ${t.category==="Toutes les catégories"||h.length<=1?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-200 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 hover:border-purple-300"}`,value:t.subcategory,onChange:r=>s("subcategory",r.target.value),disabled:t.category==="Toutes les catégories"||h.length<=1,children:h.map(r=>e.jsx("option",{value:r,children:r},r))}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 group-hover:text-purple-600 transition-colors",children:"Marque"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{className:"w-full border border-gray-200 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 appearance-none bg-white pr-8 hover:border-purple-300 transition-colors",value:t.brand,onChange:r=>s("brand",r.target.value),children:p.map(r=>e.jsx("option",{value:r,children:r},r))}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 group-hover:text-purple-600 transition-colors",children:"Niveau de réduction"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{className:"w-full border border-gray-200 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 appearance-none bg-white pr-8 hover:border-purple-300 transition-colors",value:t.discountLevel,onChange:r=>s("discountLevel",r.target.value),children:v.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 group-hover:text-purple-600 transition-colors",children:"Prix après réduction (€)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",min:l.min,max:l.max,value:x[0],onChange:r=>o([parseInt(r.target.value)||l.min,x[1]]),className:"flex-1 border border-gray-200 rounded-lg p-2 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 hover:border-purple-300 transition-colors",placeholder:"Min"}),e.jsx("span",{className:"text-gray-500",children:"à"}),e.jsx("input",{type:"number",min:l.min,max:l.max,value:x[1],onChange:r=>o([x[0],parseInt(r.target.value)||l.max]),className:"flex-1 border border-gray-200 rounded-lg p-2 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 hover:border-purple-300 transition-colors",placeholder:"Max"})]}),e.jsx("button",{onClick:n,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white py-1.5 px-3 rounded-lg text-sm transition-colors shadow-sm hover:shadow",children:"Appliquer"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 group-hover:text-purple-600 transition-colors",children:"Trier par"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{className:"w-full border border-gray-200 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 appearance-none bg-white pr-8 hover:border-purple-300 transition-colors",value:t.sortBy,onChange:r=>s("sortBy",r.target.value),children:y.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{className:"flex items-center pb-1",children:[e.jsx("input",{type:"checkbox",id:"inStockOnly",checked:t.inStockOnly,onChange:r=>s("inStockOnly",r.target.checked),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"inStockOnly",className:"ml-2 block text-sm text-gray-700 hover:text-purple-600 cursor-pointer transition-colors",children:"Offres disponibles uniquement"})]}),e.jsxs("button",{onClick:i,className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white py-2 px-3 rounded-lg text-sm font-medium transition-all shadow-sm hover:shadow flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),"Sauvegarder ce filtre"]})]})]}),e.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-2",children:[t.category!=="Toutes les catégories"&&e.jsxs("span",{className:"inline-flex items-center bg-gradient-to-r from-purple-50 to-pink-50 text-purple-700 text-sm px-3 py-1.5 rounded-full border border-purple-100 shadow-sm",children:[e.jsx("svg",{className:"w-3.5 h-3.5 mr-1 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 7l3-3 3 3M7 7h10v10l-3 3-3-3H7V7z"})}),t.category,e.jsx("button",{onClick:()=>s("category","Toutes les catégories"),className:"ml-1.5 text-gray-500 hover:text-red-500 transition-colors","aria-label":"Supprimer le filtre de catégorie",children:e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),t.subcategory!=="Toutes les sous-catégories"&&e.jsxs("span",{className:"inline-flex items-center bg-gradient-to-r from-purple-50 to-pink-50 text-purple-700 text-sm px-3 py-1.5 rounded-full border border-purple-100 shadow-sm",children:[e.jsx("svg",{className:"w-3.5 h-3.5 mr-1 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),t.subcategory,e.jsx("button",{onClick:()=>s("subcategory","Toutes les sous-catégories"),className:"ml-1.5 text-gray-500 hover:text-red-500 transition-colors","aria-label":"Supprimer le filtre de sous-catégorie",children:e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),t.brand!=="Toutes les marques"&&e.jsxs("span",{className:"inline-flex items-center bg-gradient-to-r from-purple-50 to-pink-50 text-purple-700 text-sm px-3 py-1.5 rounded-full border border-purple-100 shadow-sm",children:[e.jsx("svg",{className:"w-3.5 h-3.5 mr-1 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),t.brand,e.jsx("button",{onClick:()=>s("brand","Toutes les marques"),className:"ml-1.5 text-gray-500 hover:text-red-500 transition-colors","aria-label":"Supprimer le filtre de marque",children:e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),t.discountLevel!=="all"&&e.jsxs("span",{className:"inline-flex items-center bg-gradient-to-r from-purple-50 to-pink-50 text-purple-700 text-sm px-3 py-1.5 rounded-full border border-purple-100 shadow-sm",children:[e.jsx("svg",{className:"w-3.5 h-3.5 mr-1 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 7l3-3 3 3M7 7h10v10l-3 3-3-3H7V7z"})}),(f=v.find(r=>r.value===t.discountLevel))==null?void 0:f.label,e.jsx("button",{onClick:()=>s("discountLevel","all"),className:"ml-1.5 text-gray-500 hover:text-red-500 transition-colors","aria-label":"Supprimer le filtre de niveau de réduction",children:e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(t.priceRange[0]>l.min||t.priceRange[1]<l.max)&&e.jsxs("span",{className:"inline-flex items-center bg-gradient-to-r from-purple-50 to-pink-50 text-purple-700 text-sm px-3 py-1.5 rounded-full border border-purple-100 shadow-sm",children:[e.jsx("svg",{className:"w-3.5 h-3.5 mr-1 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.priceRange[0].toLocaleString("fr-FR"),"€ - ",t.priceRange[1].toLocaleString("fr-FR"),"€",e.jsx("button",{onClick:()=>s("priceRange",[l.min,l.max]),className:"ml-1.5 text-gray-500 hover:text-red-500 transition-colors","aria-label":"Supprimer le filtre de prix",children:e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),t.inStockOnly&&e.jsxs("span",{className:"inline-flex items-center bg-gradient-to-r from-purple-50 to-pink-50 text-purple-700 text-sm px-3 py-1.5 rounded-full border border-purple-100 shadow-sm",children:[e.jsx("svg",{className:"w-3.5 h-3.5 mr-1 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Offres disponibles uniquement",e.jsx("button",{onClick:()=>s("inStockOnly",!1),className:"ml-1.5 text-gray-500 hover:text-red-500 transition-colors","aria-label":"Supprimer le filtre en stock uniquement",children:e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(t.category!=="Toutes les catégories"||t.subcategory!=="Toutes les sous-catégories"||t.brand!=="Toutes les marques"||t.discountLevel!=="all"||t.priceRange[0]>l.min||t.priceRange[1]<l.max||t.inStockOnly)&&e.jsxs("button",{onClick:()=>c({category:"Toutes les catégories",subcategory:"Toutes les sous-catégories",brand:"Toutes les marques",discountLevel:"all",priceRange:[l.min,l.max],inStockOnly:!1}),className:"ml-auto text-white bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 px-4 py-1.5 rounded-lg text-sm font-medium shadow-sm hover:shadow transition-all flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Réinitialiser"]})]})]})]})},le=()=>{const t=B(),[c,m]=d.useState(!0),[u,j]=d.useState([]),[a,h]=d.useState({category:"Toutes les catégories",subcategory:"Toutes les sous-catégories",brand:"Toutes les marques",priceRange:[t.min,t.max],sortBy:"featured",inStockOnly:!1,discountLevel:"all"});d.useEffect(()=>{m(!0);const x=setTimeout(()=>{let o=[...X];a.category!=="Toutes les catégories"&&(o=o.filter(s=>s.category===a.category)),a.subcategory!=="Toutes les sous-catégories"&&(o=o.filter(s=>s.subcategory===a.subcategory)),a.brand!=="Toutes les marques"&&(o=o.filter(s=>s.brand===a.brand)),o=o.filter(s=>s.discountPrice>=a.priceRange[0]&&s.discountPrice<=a.priceRange[1]),a.discountLevel!=="all"&&(o=o.filter(s=>{const n=s.discountPercentage;switch(a.discountLevel){case"upto10":return n<=10;case"10to20":return n>10&&n<=20;case"20to30":return n>20&&n<=30;case"over30":return n>30;default:return!0}})),a.inStockOnly&&(o=o.filter(s=>s.inStock)),o=g(o,a.sortBy),j(o),m(!1)},400);return()=>clearTimeout(x)},[a]);const g=(x,o)=>{const s=[...x];switch(o){case"featured":return s.sort((n,i)=>n.featured&&!i.featured?-1:!n.featured&&i.featured?1:0);case"discount_high":return s.sort((n,i)=>i.discountPercentage-n.discountPercentage);case"discount_low":return s.sort((n,i)=>n.discountPercentage-i.discountPercentage);case"price_asc":return s.sort((n,i)=>n.discountPrice-i.discountPrice);case"price_desc":return s.sort((n,i)=>i.discountPrice-n.discountPrice);case"ending_soon":return s.sort((n,i)=>{const y=new Date(n.validUntil).getTime(),v=new Date(i.validUntil).getTime();return y-v});default:return s}},p=x=>{h(o=>({...o,...x}))},l=()=>{console.log("Filtres sauvegardés:",a)};return e.jsxs("div",{className:"min-h-screen",children:[e.jsx(U,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-4 relative inline-block",children:[e.jsx("span",{className:"bg-gradient-to-r from-[#7CB9E8] to-[#007FFF] bg-clip-text text-transparent",children:"Nos Promotions"}),e.jsx("div",{className:"absolute -bottom-4 left-1/2 transform -translate-x-1/2 w-32 h-1 bg-gradient-to-r from-[#7CB9E8] to-[#007FFF] rounded-full"})]}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto mt-8",children:"Découvrez nos offres spéciales et réductions exclusives"})]}),e.jsx("div",{className:"mb-8",children:e.jsx(re,{filters:a,onFilterChange:p,onSaveFilters:l})}),e.jsxs("div",{className:"mb-8 flex justify-between items-center bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-[#007FFF] mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),c?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-5 w-5 mr-2 rounded-full border-2 border-[#007FFF] border-t-transparent animate-spin"}),e.jsx("span",{className:"text-gray-600",children:"Chargement des promotions..."})]}):e.jsxs("p",{className:"text-gray-700",children:[e.jsx("span",{className:"font-semibold text-[#007FFF]",children:u.length})," promotion",u.length!==1?"s":""," trouvée",u.length!==1?"s":""]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("svg",{className:"w-4 h-4 mr-1 text-[#007FFF]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Utilisez les filtres pour affiner vos résultats"]})]}),e.jsx("div",{className:`transition-all duration-500 ${c?"opacity-50 blur-sm":"opacity-100 blur-0"}`,children:e.jsx(ee,{promotions:c?[]:u,title:"Offres Spéciales & Réductions",showViewAllButton:!1})})]}),e.jsx(I,{})]})};export{le as default};
