import{a6 as w,u as A,r as a,j as e,ag as c,ah as C,ai as S,aj as R,f as P,ak as E,al as p,am as L,J as D,an as k,ao as U}from"./index-CeO0dhlJ.js";import{L as T}from"./Layout-D_d__4G6.js";import"./Slider-DCLJ-u85.js";const J=()=>{const{isAuthenticated:o}=w(),r=A(),[l,j]=a.useState([]),[m,N]=a.useState(!0),[x,I]=a.useState(""),[t,u]=a.useState(null),[g,y]=a.useState(""),[i,b]=a.useState("all");a.useEffect(()=>{o||r("/connexion")},[o,r]),a.useEffect(()=>{setTimeout(()=>{j([{id:"1",orderNumber:"CMD-2023-001",date:"2023-03-15T10:30:00Z",status:"delivered",totalAmount:1250.99,items:[{id:"item1",productId:"prod1",productName:"Pompe à chaleur AIRWELL",quantity:1,unitPrice:999.99,imageUrl:"/climatisation.jpeg"},{id:"item2",productId:"prod2",productName:"Kit installation standard",quantity:1,unitPrice:250,imageUrl:"/chauffage.jpeg"}],shippingAddress:{fullName:"Jean Dupont",streetAddress:"15 Rue de la Paix",city:"Paris",postalCode:"75001",country:"France"},billingAddress:{fullName:"Jean Dupont",streetAddress:"15 Rue de la Paix",city:"Paris",postalCode:"75001",country:"France"}},{id:"2",orderNumber:"CMD-2023-042",date:"2023-04-20T14:15:00Z",status:"processing",totalAmount:549.5,items:[{id:"item3",productId:"prod3",productName:"Radiateur connecté ACOVA",quantity:2,unitPrice:249.75,imageUrl:"/chauffage.jpeg"},{id:"item4",productId:"prod4",productName:"Thermostat intelligent",quantity:1,unitPrice:50,imageUrl:"/climatisation.jpeg"}],shippingAddress:{fullName:"Jean Dupont",streetAddress:"15 Rue de la Paix",city:"Paris",postalCode:"75001",country:"France"},billingAddress:{fullName:"Jean Dupont",streetAddress:"15 Rue de la Paix",city:"Paris",postalCode:"75001",country:"France"}}]),N(!1)},1e3)},[]);const h=s=>{const d=new Date(s);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(d)},n=s=>{switch(s){case"processing":return{label:"En cours",color:"text-blue-500"};case"shipped":return{label:"Expédiée",color:"text-indigo-500"};case"delivered":return{label:"Livrée",color:"text-green-500"};case"cancelled":return{label:"Annulée",color:"text-red-500"};default:return{label:"Inconnu",color:"text-gray-500"}}},f=s=>{u(s)},v=l.filter(s=>{const d=s.orderNumber.toLowerCase().includes(g.toLowerCase()),F=i==="all"||s.status===i;return d&&F});return e.jsx(T,{children:e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("h1",{className:"text-3xl font-bold text-gray-800 flex items-center",children:[e.jsx(c,{className:"mr-3 text-[#007FFF]"}),"Mes Commandes"]})}),!t&&!m&&l.length>0&&e.jsxs("div",{className:"mb-8 space-y-4 md:space-y-0 md:flex md:items-center md:space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(C,{className:"w-5 h-5 text-gray-500"})}),e.jsx("input",{type:"text",placeholder:"Rechercher une commande...",value:g,onChange:s=>y(s.target.value),className:"block w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#007FFF] focus:border-transparent transition-colors bg-white"})]}),e.jsxs("div",{className:"relative min-w-[200px]",children:[e.jsxs("select",{value:i,onChange:s=>b(s.target.value),className:"block w-full pl-4 pr-10 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#007FFF] focus:border-transparent appearance-none transition-colors bg-white/80 backdrop-blur-sm",children:[e.jsx("option",{value:"all",children:"Tous les statuts"}),e.jsx("option",{value:"delivered",children:"Livrée"}),e.jsx("option",{value:"processing",children:"En cours"}),e.jsx("option",{value:"shipped",children:"Expédiée"}),e.jsx("option",{value:"cancelled",children:"Annulée"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx(S,{className:"h-4 w-4 text-gray-400"})})]})]}),m?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#007FFF]"})}):x?e.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded mb-6",children:e.jsxs("p",{className:"flex items-center",children:[e.jsx(R,{className:"mr-2"}),x]})}):l.length===0?e.jsxs("div",{className:"bg-gray-100 rounded-lg p-8 text-center shadow-sm",children:[e.jsx(c,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune commande"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Vous n'avez pas encore passé de commande."}),e.jsx("button",{onClick:()=>r("/nos-produits"),className:"px-4 py-2 bg-[#007FFF] text-white rounded-md hover:bg-[#7CB9E8] transition-colors",children:"Parcourir nos produits"})]}):e.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:t?e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center border-b pb-4 mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-2 md:mb-0",children:["Commande #",t.orderNumber]}),e.jsxs("button",{onClick:()=>u(null),className:"text-gray-600 hover:text-[#007FFF] inline-flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Retour aux commandes"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Date de commande"}),e.jsxs("p",{className:"flex items-center text-gray-800",children:[e.jsx(P,{className:"mr-2 text-[#007FFF]"}),h(t.date)]})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Statut"}),e.jsxs("p",{className:`flex items-center ${n(t.status).color}`,children:[e.jsx(E,{className:"mr-2 h-2 w-2"}),n(t.status).label]})]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"Articles"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg overflow-hidden mb-6",children:[e.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-2 bg-gray-100 p-4 text-sm text-gray-500",children:[e.jsx("div",{className:"col-span-6",children:"Produit"}),e.jsx("div",{className:"col-span-2 text-center",children:"Prix unitaire"}),e.jsx("div",{className:"col-span-2 text-center",children:"Quantité"}),e.jsx("div",{className:"col-span-2 text-right",children:"Total"})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:t.items.map(s=>e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"md:hidden space-y-2",children:e.jsxs("div",{className:"flex items-center",children:[s.imageUrl&&e.jsx("img",{src:s.imageUrl,alt:s.productName,className:"h-16 w-16 object-cover rounded mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800",children:s.productName}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Prix unitaire: ",s.unitPrice.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Quantité: ",s.quantity]}),e.jsxs("p",{className:"text-sm font-medium text-gray-800",children:["Total: ",(s.unitPrice*s.quantity).toLocaleString("fr-FR",{style:"currency",currency:"EUR"})]})]})]})}),e.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-2 items-center",children:[e.jsxs("div",{className:"col-span-6 flex items-center",children:[s.imageUrl&&e.jsx("img",{src:s.imageUrl,alt:s.productName,className:"h-10 w-10 mr-3 object-cover rounded"}),e.jsx("span",{className:"font-medium text-gray-800",children:s.productName})]}),e.jsx("div",{className:"col-span-2 text-center",children:s.unitPrice.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})}),e.jsx("div",{className:"col-span-2 text-center",children:s.quantity}),e.jsx("div",{className:"col-span-2 text-right font-medium",children:(s.unitPrice*s.quantity).toLocaleString("fr-FR",{style:"currency",currency:"EUR"})})]})]},s.id))}),e.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-bold text-gray-800",children:"Total"}),e.jsx("span",{className:"font-bold text-gray-800",children:t.totalAmount.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"Adresse de livraison"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("p",{className:"font-medium text-gray-800",children:t.shippingAddress.fullName}),e.jsx("p",{className:"text-gray-600",children:t.shippingAddress.streetAddress}),e.jsxs("p",{className:"text-gray-600",children:[t.shippingAddress.postalCode," ",t.shippingAddress.city]}),e.jsx("p",{className:"text-gray-600",children:t.shippingAddress.country})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"Adresse de facturation"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("p",{className:"font-medium text-gray-800",children:t.billingAddress.fullName}),e.jsx("p",{className:"text-gray-600",children:t.billingAddress.streetAddress}),e.jsxs("p",{className:"text-gray-600",children:[t.billingAddress.postalCode," ",t.billingAddress.city]}),e.jsx("p",{className:"text-gray-600",children:t.billingAddress.country})]})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-end space-y-3 md:space-y-0 md:space-x-4",children:[e.jsxs("button",{className:"px-4 py-2 bg-[#007FFF] text-white rounded-md hover:bg-[#7CB9E8] transition-colors flex items-center justify-center",children:[e.jsx(p,{className:"mr-2"}),"Télécharger le devis"]}),e.jsxs("button",{className:"px-4 py-2 bg-[#007FFF] text-white rounded-md hover:bg-[#7CB9E8] transition-colors flex items-center justify-center",children:[e.jsx(p,{className:"mr-2"}),"Télécharger la facture"]})]})]}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:v.map(s=>e.jsx("div",{className:"bg-gray-50/50 backdrop-blur-sm rounded-2xl p-6 hover:shadow-lg transition-all duration-300",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["Commande #",s.orderNumber]}),e.jsxs("div",{className:"flex items-center mt-2 text-gray-600",children:[e.jsx(L,{className:"mr-2"}),e.jsx("span",{className:"text-sm",children:h(s.date)})]})]}),e.jsx("span",{className:`px-4 py-1.5 rounded-full text-sm font-medium ${s.status==="delivered"?"bg-green-100 text-green-700":s.status==="processing"?"bg-blue-100 text-blue-700":s.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:n(s.status).label})]}),e.jsxs("div",{className:"flex items-center text-gray-600 bg-white/80 rounded-xl p-4",children:[e.jsx(c,{className:"text-[#007FFF] mr-3"}),e.jsxs("span",{children:["Nombre d'articles : ",s.items.length]})]}),e.jsxs("div",{className:"flex items-center text-2xl font-bold text-gray-900",children:[e.jsx("span",{className:"text-[#007FFF] mr-2",children:"€"}),s.totalAmount.toLocaleString("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 pt-4",children:[e.jsxs("button",{onClick:()=>f(s),className:"w-full bg-[#007FFF] text-white rounded-xl py-3 px-4 font-medium hover:bg-[#7CB9E8] transition-colors duration-200 flex items-center justify-center",children:[e.jsx(D,{className:"mr-2"}),"Voir détail"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{className:"w-full bg-white text-[#007FFF] border-2 border-[#007FFF] rounded-xl py-2.5 px-4 font-medium hover:bg-[#007FFF] hover:text-white transition-all duration-200 flex items-center justify-center",children:[e.jsx(k,{className:"mr-2"}),"Devis"]}),e.jsxs("button",{className:"w-full bg-white text-[#007FFF] border-2 border-[#007FFF] rounded-xl py-2.5 px-4 font-medium hover:bg-[#007FFF] hover:text-white transition-all duration-200 flex items-center justify-center",children:[e.jsx(U,{className:"mr-2"}),"Facture"]})]})]})]})},s.id))})})]})})})};export{J as default};
